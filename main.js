/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// main.ts
var main_exports = {};
__export(main_exports, {
  default: () => HiddenGrotto
});
module.exports = __toCommonJS(main_exports);
var import_obsidian = require("obsidian");
var DEFAULT_SETTINGS = {
  presetOverride: "",
  tagInteraction: false,
  tagAccent: false,
  tagShape: false,
  fontWeight: 500,
  fontWidth: 100,
  formattedAccent: true,
  headerRounded: false,
  tableStyle: false,
  tableColor: false,
  tableWidth: true,
  calloutIcon: false,
  embedHeight: 4e3,
  calendarInteraction: false,
  calendarWeekend: false,
  calendarPosition: 50,
  privacyRedacted: false,
  privacyBlur: false,
  roundedUI: false,
  hiddenBorder: false
};
var PresetSuggestModal = class extends import_obsidian.SuggestModal {
  constructor(app, presets, onChoose) {
    super(app);
    this.onChoose = onChoose;
    this.presets = presets;
    this.setPlaceholder("Search available presets...");
  }
  getSuggestions(query) {
    return this.presets.filter(
      (preset) => preset.toLowerCase().includes(query.toLowerCase())
    );
  }
  renderSuggestion(preset, el) {
    el.createEl("div", { text: prettifyPresetName(preset) });
  }
  onChooseSuggestion(preset, evt) {
    this.onChoose(preset);
  }
  onOpen() {
    super.onOpen();
    this.containerEl.classList.add("hidden-grotto-presets");
  }
};
function prettifyPresetName(name) {
  return name.split("-").map((word) => word.charAt(0).toUpperCase() + word.slice(1)).join(" ");
}
var HiddenGrotto = class extends import_obsidian.Plugin {
  constructor() {
    super(...arguments);
    this.cachedPresets = null;
  }
  async onload() {
    await this.loadSettings();
    this.applySettingsToDOM();
    (0, import_obsidian.addIcon)("cycle-preset", '<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"viewBox="0 0 256 256"><path fill=currentColor opacity="1.000000" stroke="none" d="M243.517914,101.606964 C251.807251,140.867111 243.723602,175.908401 217.753143,206.057571 C196.818481,230.360672 169.783905,244.053741 137.765076,246.243790 C71.721527,250.761093 19.331234,202.748322 12.341545,143.763779 C6.422440,93.813644 31.015741,47.160252 75.623924,24.008842 C118.757599,1.622693 173.171921,9.246656 208.605103,42.348419 C225.987778,58.587334 237.710297,78.093155 243.517914,101.606964 M108.744705,33.142208 C57.593082,43.828785 23.517294,94.050583 32.598221,145.368912 C41.747906,197.075821 87.272911,231.268295 140.119919,226.125275 C193.110092,220.968323 233.115143,170.014328 226.292358,117.371567 C219.056595,61.542454 166.807602,21.620567 108.744705,33.142208 z"/><path fill=currentColor opacity="1.000000" stroke="none" d="M136.556793,61.273613 C135.221420,80.707474 141.722031,95.890984 157.255661,107.677345 C164.011978,112.803795 169.822708,119.664764 174.690765,126.688896 C184.525085,140.878860 182.804947,156.529205 171.061905,169.163589 C159.569885,181.527924 144.993042,189.039001 129.604660,195.219376 C126.232231,196.573807 122.784637,197.741089 119.916328,198.794525 C119.195549,191.471039 119.160332,184.287888 117.664635,177.422913 C115.038788,165.370819 106.769608,156.889191 98.250854,148.450333 C91.941422,142.200104 85.828560,135.315125 81.420662,127.678299 C73.760170,114.406258 76.602089,99.304268 87.139786,88.121582 C100.164482,74.299667 116.522514,66.011307 134.081894,59.727329 C134.703140,59.505001 135.747787,60.465721 136.556793,61.273613 M107.743614,126.801552 C103.469910,125.404617 99.196205,124.007675 94.001419,122.309662 C97.046341,129.567947 100.762016,134.306824 107.090012,136.879547 C113.551132,139.506378 119.979477,142.280136 126.186592,145.450760 C136.957520,150.952560 147.546951,156.809662 158.616318,162.733871 C160.496384,160.551544 162.478775,158.250412 164.736694,155.629471 C147.522476,142.015167 128.309448,133.935577 107.743614,126.801552 M111.435822,105.080589 C107.056480,103.489960 102.650757,101.967651 98.305130,100.289703 C93.846519,98.568138 92.773628,101.896271 91.517494,104.778847 C90.025993,108.201569 92.828606,108.431938 94.983711,109.332115 C113.681709,117.142075 132.390778,124.928658 150.998077,132.950638 C156.351578,135.258636 161.384888,138.309357 167.089462,141.293930 C166.434845,133.920410 163.158844,129.306793 157.275421,126.540855 C142.239838,119.472290 127.185043,112.444626 111.435822,105.080589 M114.570343,83.010376 C112.083847,85.003014 109.597359,86.995651 106.231102,89.693321 C115.957306,93.638893 124.429878,97.075920 133.668259,100.823608 C130.809372,92.644127 128.321930,85.527420 125.623299,77.806465 C122.047211,79.488853 118.640793,81.091415 114.570343,83.010376 M126.962753,165.614624 C128.942307,170.304520 130.921844,174.994415 133.079834,180.107086 C138.028748,177.224625 142.469559,174.638107 147.725525,171.576797 C139.674362,167.014633 132.729538,163.079346 125.784698,159.144073 C125.454407,159.454544 125.124123,159.765015 124.793839,160.075485 C125.434830,161.684570 126.075813,163.293655 126.962753,165.614624 z"/></svg>');
    (0, import_obsidian.addIcon)("blur-toggle", '<svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-eye-off-icon lucide-eye-off"><path d="M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49"/><path d="M14.084 14.158a3 3 0 0 1-4.242-4.242"/><path d="M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143"/><path d="m2 2 20 20"/></svg>');
    this.addRibbonIcon("cycle-preset", "Cycle presets", async () => {
      await this.cyclePreset();
    });
    this.addCommand({
      id: "cycle-preset-override",
      name: "Cycle preset override",
      icon: "cycle-preset",
      callback: async () => await this.cyclePreset()
    });
    this.addCommand({
      id: "toggle-privacy-blur",
      name: "Toggle Privacy Blur",
      icon: "blur-toggle",
      callback: async () => {
        this.settings.privacyBlur = !this.settings.privacyBlur;
        await this.saveSettings();
        new import_obsidian.Notice(this.settings.privacyBlur ? "Privacy blur enabled" : "Privacy blur disabled");
      }
    });
    this.addRibbonIcon("blur-toggle", "Toggle Privacy Blur", async () => {
      this.settings.privacyBlur = !this.settings.privacyBlur;
      await this.saveSettings();
      new import_obsidian.Notice(this.settings.privacyBlur ? "Privacy blur enabled" : "Privacy blur disabled");
    });
    this.addSettingTab(new GrottoSettingsTab(this.app, this));
  }
  removePresets() {
    Array.from(document.body.classList).forEach((cls) => {
      if (cls.startsWith("preset-")) {
        document.body.classList.remove(cls);
      }
    });
  }
  // Cycle through the presets in order
  async cyclePreset() {
    const presets = this.getAvailablePresets();
    if (presets.length === 0) {
      new import_obsidian.Notice("No available presets found.");
      return;
    }
    const currentIndex = presets.indexOf(this.settings.presetOverride);
    const nextIndex = (currentIndex + 1) % presets.length;
    const nextPreset = presets[nextIndex];
    this.settings.presetOverride = nextPreset;
    await this.saveSettings();
    new import_obsidian.Notice(`Preset changed to: ${prettifyPresetName(nextPreset)}`);
  }
  /* EVERYTHING BELOW NEEDS UPDATING */
  resetDOMStyles() {
    const variables = [
      "--grotto-tag-pointer-events",
      "font-weight",
      "--file-line-width",
      "--grotto-bold-color",
      "--grotto-italic-color",
      "--grotto-table-border-style",
      "--grotto-table-color",
      "--grotto-table-background-color",
      "--grotto-table-cell-width",
      "--grotto-callout-background-color",
      "--grotto-callout-icon",
      "--embed-max-height",
      "--grotto-calendar-view-height"
    ];
    variables.forEach((varName) => document.body.style.removeProperty(varName));
  }
  refreshPresetCache() {
    this.cachedPresets = null;
  }
  onunload() {
    this.removePresets();
    this.resetDOMStyles();
  }
  applySettingsToDOM() {
    this.removePresets();
    if (this.settings.presetOverride && this.settings.presetOverride.trim() !== "") {
      const presetClass = `preset-${this.settings.presetOverride.trim().toLowerCase()}`;
      document.body.classList.add(presetClass);
    }
    if (this.settings.roundedUI) {
      document.body.classList.add("grotto-rounded-ui");
    } else {
      document.body.classList.remove("grotto-rounded-ui");
    }
    if (this.settings.hiddenBorder) {
      document.body.classList.add("grotto-hidden-border");
    } else {
      document.body.classList.remove("grotto-hidden-border");
    }
    const pointerEvents = this.settings.tagInteraction ? "auto" : "none";
    document.body.style.setProperty("--grotto-tag-pointer-events", pointerEvents);
    if (this.settings.tagAccent) {
      document.body.classList.add("grotto-tag-accented");
    } else {
      document.body.classList.remove("grotto-tag-accented");
    }
    if (this.settings.tagShape) {
      document.body.classList.add("grotto-tag-rounded");
    } else {
      document.body.classList.remove("grotto-tag-rounded");
    }
    document.body.style.setProperty("font-weight", this.settings.fontWeight.toString());
    document.body.style.setProperty("--file-line-width", `${this.settings.fontWidth}%`);
    if (this.settings.formattedAccent) {
      document.body.style.setProperty("--grotto-bold-color", "var(--grotto-accent)");
      document.body.style.setProperty("--grotto-italic-color", "var(--grotto-accent)");
    } else {
      document.body.style.setProperty("--grotto-bold-color", "var(--text-normal)");
      document.body.style.setProperty("--grotto-italic-color", "var(--text-normal)");
    }
    if (this.settings.headerRounded) {
      document.body.classList.add("grotto-header-rounded");
    } else {
      document.body.classList.remove("grotto-header-rounded");
    }
    const tableBorders = this.settings.tableStyle ? "separate" : "collapse";
    document.body.style.setProperty("--grotto-table-border-style", tableBorders);
    if (this.settings.tableColor) {
      document.body.style.setProperty("--grotto-table-background-color", "var(--grotto-accent)");
      document.body.style.setProperty("--grotto-table-color", "var(--grotto-light-1)");
    } else {
      document.body.style.setProperty("--grotto-table-background-color", "var(--background-primary)");
      document.body.style.setProperty("--grotto-table-color", "var(--text-normal)");
    }
    const tableWidth = this.settings.tableWidth ? "max-content" : "fit-content";
    document.body.style.setProperty("--grotto-table-cell-width", tableWidth);
    const calloutIcon = this.settings.calloutIcon ? "block" : "none";
    document.body.style.setProperty("--grotto-callout-icon", calloutIcon);
    document.body.style.setProperty("--embed-max-height", `${this.settings.embedHeight}px`);
    const calendarpointerEvents = this.settings.calendarInteraction ? "auto" : "none";
    document.body.style.setProperty("--grotto-calendar-pointer-events", calendarpointerEvents);
    if (this.settings.calendarWeekend) {
      document.body.style.setProperty("--grotto-calendar-weekend-border-color", "var(--grotto-calendar-border-color)");
    } else {
      document.body.style.setProperty("--grotto-calendar-weekend-border-color", "transparent");
    }
    "--grotto-calendar-view-height";
    document.body.style.setProperty("--grotto-calendar-view-height", `${this.settings.calendarPosition}vh`);
    if (this.settings.privacyRedacted) {
      document.body.style.setProperty("--font-interface", "var(--grotto-redacted)");
      document.body.style.setProperty("--font-text", "var(--grotto-redacted)");
      document.body.style.setProperty("--font-print", "var(--grotto-redacted)");
      document.body.style.setProperty("--font-monospace", "var(--grotto-redacted)");
    } else {
      document.body.style.setProperty("--font-interface", "var(--font-interface-override)");
      document.body.style.setProperty("--font-text", "var(--font-text-override)");
      document.body.style.setProperty("--font-print", "var(--font-print-override)");
      document.body.style.setProperty("--font-monospace", "var(--font-monospace-override)");
    }
    if (this.settings.privacyBlur) {
      document.body.style.setProperty("--grotto-blur", "4px");
    } else {
      document.body.style.setProperty("--grotto-blur", "0px");
    }
  }
  // Check for presets in the css and theme files to display in the settings tab
  getAvailablePresets() {
    if (this.cachedPresets) return this.cachedPresets;
    const presetRegex = /\.preset-([a-zA-Z0-9_-]+)/g;
    const presets = /* @__PURE__ */ new Set();
    for (const sheet of Array.from(document.styleSheets)) {
      try {
        const rules = sheet.cssRules;
        for (const rule of Array.from(rules)) {
          if (rule instanceof CSSStyleRule) {
            let match;
            while (match = presetRegex.exec(rule.selectorText)) {
              presets.add(match[1]);
            }
          }
        }
      } catch (e) {
        continue;
      }
    }
    this.cachedPresets = Array.from(presets).sort();
    return this.cachedPresets;
  }
  async loadSettings() {
    const loadedData = await this.loadData();
    this.settings = { ...DEFAULT_SETTINGS, ...loadedData };
  }
  async saveSettings() {
    await this.saveData(this.settings);
    this.applySettingsToDOM();
  }
};
var GrottoSettingsTab = class extends import_obsidian.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    const colorGroup = containerEl.createEl("div", { cls: "setting-group" });
    colorGroup.createEl("div", { cls: "setting-item setting-item-heading" }).createEl("div", { text: "Color Controls", cls: "setting-item-name" });
    const colorGroupItems = colorGroup.createEl("div", { cls: "setting-items" });
    const availablePresets = this.plugin.getAvailablePresets();
    const displayPresets = availablePresets.map(prettifyPresetName);
    let presetInfoText = displayPresets.length > 0 ? `Available presets: ${displayPresets.join(", ")}` : `No preset classes found in loaded stylesheets.`;
    new import_obsidian.Setting(colorGroupItems).setName("Presets").setDesc(createFragment((frag) => {
      frag.appendText("Select a custom preset");
      frag.appendChild(document.createElement("br"));
      const presetsLine = document.createElement("div");
      presetsLine.textContent = presetInfoText;
      frag.appendChild(presetsLine);
    })).addButton((button) => {
      const currentPreset = this.plugin.settings.presetOverride || "None";
      button.setButtonText(prettifyPresetName(currentPreset)).onClick(() => {
        this.plugin.refreshPresetCache();
        const availablePresets2 = this.plugin.getAvailablePresets();
        new PresetSuggestModal(this.app, availablePresets2, async (chosenPreset) => {
          this.plugin.settings.presetOverride = chosenPreset;
          await this.plugin.saveSettings();
          this.display();
        }).open();
      });
    });
    const tagGroup = containerEl.createEl("div", { cls: "setting-group" });
    tagGroup.createEl("div", { cls: "setting-item setting-item-heading" }).createEl("div", { text: "Tag Controls", cls: "setting-item-name" });
    const tagGroupItems = tagGroup.createEl("div", { cls: "setting-items" });
    new import_obsidian.Setting(tagGroupItems).setName("Tag Interaction").setDesc("Enable tag search when clicking on a tag").addToggle((toggle) => {
      toggle.setValue(this.plugin.settings.tagInteraction).onChange(async (value) => {
        this.plugin.settings.tagInteraction = value;
        await this.plugin.saveSettings();
      });
    });
    new import_obsidian.Setting(tagGroupItems).setName("Tag Accent").setDesc("Enable to use accented tags").addToggle((toggle) => {
      toggle.setValue(this.plugin.settings.tagAccent).onChange(async (value) => {
        this.plugin.settings.tagAccent = value;
        await this.plugin.saveSettings();
      });
    });
    new import_obsidian.Setting(tagGroupItems).setName("Tag Shape").setDesc("Enable to use rounded tags").addToggle((toggle) => {
      toggle.setValue(this.plugin.settings.tagShape).onChange(async (value) => {
        this.plugin.settings.tagShape = value;
        await this.plugin.saveSettings();
      });
    });
    const textGroup = containerEl.createEl("div", { cls: "setting-group" });
    textGroup.createEl("div", { cls: "setting-item setting-item-heading" }).createEl("div", { text: "Text Controls", cls: "setting-item-name" });
    const textGroupItems = textGroup.createEl("div", { cls: "setting-items" });
    const fontWeightSetting = new import_obsidian.Setting(textGroupItems).setName("Font Weight").setDesc("Adjust the font weight");
    const currentValueEl = document.createElement("div");
    currentValueEl.textContent = `Current weight: ${this.plugin.settings.fontWeight || 400}`;
    fontWeightSetting.descEl.appendChild(currentValueEl);
    fontWeightSetting.addSlider((slider) => {
      slider.setLimits(200, 800, 100).setValue(this.plugin.settings.fontWeight || 400).setDynamicTooltip().onChange(async (value) => {
        this.plugin.settings.fontWeight = value;
        currentValueEl.textContent = `Current weight: ${value}`;
        await this.plugin.saveSettings();
      });
      return slider;
    });
    fontWeightSetting.addExtraButton((btn) => {
      btn.setIcon("reset").setTooltip("Reset to default").onClick(async () => {
        const defaultValue = 400;
        this.plugin.settings.fontWeight = defaultValue;
        currentValueEl.textContent = `Current weight: ${defaultValue}`;
        await this.plugin.saveSettings();
        this.display();
      });
    });
    const fontWidthSetting = new import_obsidian.Setting(textGroupItems).setName("File Line Width").setDesc("Adjust the width of the viewable lines of text");
    const currentFontWidthEl = document.createElement("div");
    currentFontWidthEl.textContent = `Current width: ${this.plugin.settings.fontWidth || 100}%`;
    fontWidthSetting.descEl.appendChild(currentFontWidthEl);
    fontWidthSetting.addSlider((slider) => {
      slider.setLimits(50, 100, 5).setValue(this.plugin.settings.fontWidth || 100).setDynamicTooltip().onChange(async (value) => {
        this.plugin.settings.fontWidth = value;
        currentFontWidthEl.textContent = `Current width: ${value}%`;
        await this.plugin.saveSettings();
      });
      return slider;
    });
    fontWidthSetting.addExtraButton((btn) => {
      btn.setIcon("reset").setTooltip("Reset to default").onClick(async () => {
        const defaultValue = 100;
        this.plugin.settings.fontWidth = defaultValue;
        currentFontWidthEl.textContent = `Current width: ${defaultValue}%`;
        await this.plugin.saveSettings();
        this.display();
      });
    });
    new import_obsidian.Setting(textGroupItems).setName("Formatted Text Accent").setDesc("Enable to use an accented bold and italic text").addToggle((toggle) => {
      toggle.setValue(this.plugin.settings.formattedAccent).onChange(async (value) => {
        this.plugin.settings.formattedAccent = value;
        await this.plugin.saveSettings();
      });
    });
    new import_obsidian.Setting(textGroupItems).setName("Header Shape").setDesc("Enable to use rounded headers").addToggle((toggle) => {
      toggle.setValue(this.plugin.settings.headerRounded).onChange(async (value) => {
        this.plugin.settings.headerRounded = value;
        await this.plugin.saveSettings();
      });
    });
    const tableGroup = containerEl.createEl("div", { cls: "setting-group" });
    tableGroup.createEl("div", { cls: "setting-item setting-item-heading" }).createEl("div", { text: "Table Controls", cls: "setting-item-name" });
    const tableGroupItems = tableGroup.createEl("div", { cls: "setting-items" });
    new import_obsidian.Setting(tableGroupItems).setName("Table Border Style").setDesc("Enable to separate the table borders").addToggle((toggle) => {
      toggle.setValue(this.plugin.settings.tableStyle).onChange(async (value) => {
        this.plugin.settings.tableStyle = value;
        await this.plugin.saveSettings();
      });
    });
    new import_obsidian.Setting(tableGroupItems).setName("Table Background Accent").setDesc("Enable to use an accented background for table cells").addToggle((toggle) => {
      toggle.setValue(this.plugin.settings.tableColor).onChange(async (value) => {
        this.plugin.settings.tableColor = value;
        await this.plugin.saveSettings();
      });
    });
    new import_obsidian.Setting(tableGroupItems).setName("Table Cell Width").setDesc("Enable to maximize table cell width").addToggle((toggle) => {
      toggle.setValue(this.plugin.settings.tableWidth).onChange(async (value) => {
        this.plugin.settings.tableWidth = value;
        await this.plugin.saveSettings();
      });
    });
    const calloutGroup = containerEl.createEl("div", { cls: "setting-group" });
    calloutGroup.createEl("div", { cls: "setting-item setting-item-heading" }).createEl("div", { text: "Callout and Embed Controls", cls: "setting-item-name" });
    const calloutGroupItems = calloutGroup.createEl("div", { cls: "setting-items" });
    new import_obsidian.Setting(calloutGroupItems).setName("Callout Icon").setDesc("Enable to display callout icons").addToggle((toggle) => {
      toggle.setValue(this.plugin.settings.calloutIcon).onChange(async (value) => {
        this.plugin.settings.calloutIcon = value;
        await this.plugin.saveSettings();
      });
    });
    const embedHeightSetting = new import_obsidian.Setting(calloutGroupItems).setName("Embed Max Height").setDesc("Set the maximum viewable height of embeds");
    const currentEmbedHeight = document.createElement("div");
    currentEmbedHeight.textContent = `Current height: ${this.plugin.settings.embedHeight || 4e3}px`;
    embedHeightSetting.descEl.appendChild(currentEmbedHeight);
    embedHeightSetting.addSlider((slider) => {
      slider.setLimits(100, 8e3, 100).setValue(this.plugin.settings.embedHeight || 4e3).setDynamicTooltip().onChange(async (value) => {
        this.plugin.settings.embedHeight = value;
        currentEmbedHeight.textContent = `Current height: ${value}px`;
        await this.plugin.saveSettings();
      });
      return slider;
    });
    embedHeightSetting.addExtraButton((btn) => {
      btn.setIcon("reset").setTooltip("Reset to default").onClick(async () => {
        const defaultValue = 4e3;
        this.plugin.settings.embedHeight = defaultValue;
        currentEmbedHeight.textContent = `Current height: ${defaultValue}px`;
        await this.plugin.saveSettings();
        this.display();
      });
    });
    const calendarGroup = containerEl.createEl("div", { cls: "setting-group" });
    calendarGroup.createEl("div", { cls: "setting-item setting-item-heading" }).createEl("div", { text: "Calendar Plugin Controls", cls: "setting-item-name" });
    const calendarGroupItems = calendarGroup.createEl("div", { cls: "setting-items" });
    new import_obsidian.Setting(calendarGroupItems).setName("Calendar Interaction").setDesc("Enable to allow daily note access when clicking on a date").addToggle((toggle) => {
      toggle.setValue(this.plugin.settings.calendarInteraction).onChange(async (value) => {
        this.plugin.settings.calendarInteraction = value;
        await this.plugin.saveSettings();
      });
    });
    new import_obsidian.Setting(calendarGroupItems).setName("Calendar Weekend Separator").setDesc("Enable to separate the weekend with a border").addToggle((toggle) => {
      toggle.setValue(this.plugin.settings.calendarWeekend).onChange(async (value) => {
        this.plugin.settings.calendarWeekend = value;
        await this.plugin.saveSettings();
      });
    });
    const calendarPositionSetting = new import_obsidian.Setting(calendarGroupItems).setName("Calendar Position").setDesc("Adjust the position of the calendar plugin in the sidebar on mobile");
    const calendarHeight = document.createElement("div");
    calendarHeight.textContent = `Current height: ${this.plugin.settings.calendarPosition || 50}vh`;
    calendarPositionSetting.descEl.appendChild(calendarHeight);
    calendarPositionSetting.addSlider((slider) => {
      slider.setLimits(0, 50, 5).setValue(this.plugin.settings.calendarPosition || 50).setDynamicTooltip().onChange(async (value) => {
        this.plugin.settings.calendarPosition = value;
        calendarHeight.textContent = `Current height: ${value}px`;
        await this.plugin.saveSettings();
      });
      return slider;
    });
    calendarPositionSetting.addExtraButton((btn) => {
      btn.setIcon("reset").setTooltip("Reset to default").onClick(async () => {
        const defaultValue = 50;
        this.plugin.settings.calendarPosition = defaultValue;
        calendarHeight.textContent = `Current height: ${defaultValue}vh`;
        await this.plugin.saveSettings();
        this.display();
      });
    });
    const uiGroup = containerEl.createEl("div", { cls: "setting-group" });
    uiGroup.createEl("div", { cls: "setting-item setting-item-heading" }).createEl("div", { text: "UI Controls", cls: "setting-item-name" });
    const uiGroupItems = uiGroup.createEl("div", { cls: "setting-items" });
    new import_obsidian.Setting(uiGroupItems).setName("UI Shape").setDesc("Enable to use a rounded appearance for the UI").addToggle((toggle) => {
      toggle.setValue(this.plugin.settings.roundedUI).onChange(async (value) => {
        this.plugin.settings.roundedUI = value;
        await this.plugin.saveSettings();
      });
    });
    const privacyGroup = containerEl.createEl("div", { cls: "setting-group" });
    privacyGroup.createEl("div", { cls: "setting-item setting-item-heading" }).createEl("div", { text: "Privacy Controls", cls: "setting-item-name" });
    const privacyGroupItems = privacyGroup.createEl("div", { cls: "setting-items" });
    new import_obsidian.Setting(privacyGroupItems).setName("Redact").setDesc("Enable to redact all the text").addToggle((toggle) => {
      toggle.setValue(this.plugin.settings.privacyRedacted).onChange(async (value) => {
        this.plugin.settings.privacyRedacted = value;
        await this.plugin.saveSettings();
      });
    });
    new import_obsidian.Setting(privacyGroupItems).setName("Obscure").setDesc("Enable to obscure everything").addToggle((toggle) => {
      toggle.setValue(this.plugin.settings.privacyBlur).onChange(async (value) => {
        this.plugin.settings.privacyBlur = value;
        await this.plugin.saveSettings();
      });
    });
    const resetSetting = new import_obsidian.Setting(containerEl).setName("Reset Settings").setDesc('Reset all settings and enable the "Clobbopus" preset').addButton(
      (button) => button.setButtonText("Reset").setCta().onClick(async () => {
        this.plugin.settings = {
          ...DEFAULT_SETTINGS,
          presetOverride: "Clobbopus"
        };
        await this.plugin.saveSettings();
        new import_obsidian.Notice('Settings reset and "Clobbopus" preset applied!');
        this.display();
      })
    );
    resetSetting.settingEl.style.marginTop = "1.5em";
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiaW1wb3J0IHsgQXBwLCBhZGRJY29uLCBQbHVnaW4sIFBsdWdpblNldHRpbmdUYWIsIFNldHRpbmcsIE5vdGljZSwgU3VnZ2VzdE1vZGFsIH0gZnJvbSAnb2JzaWRpYW4nO1xuXG5pbnRlcmZhY2UgR3JvdHRvU2V0dGluZ3Mge1xuXHRwcmVzZXRPdmVycmlkZTogc3RyaW5nO1xuXHR0YWdJbnRlcmFjdGlvbjogYm9vbGVhbjtcblx0dGFnQWNjZW50OiBib29sZWFuO1xuXHR0YWdTaGFwZTogYm9vbGVhbjtcblx0Zm9udFdlaWdodDogbnVtYmVyO1xuXHRmb250V2lkdGg6IG51bWJlcjtcblx0Zm9ybWF0dGVkQWNjZW50OiBib29sZWFuO1xuXHRoZWFkZXJSb3VuZGVkOiBib29sZWFuO1xuXHR0YWJsZVN0eWxlOiBib29sZWFuO1xuXHR0YWJsZUNvbG9yOiBib29sZWFuO1xuXHR0YWJsZVdpZHRoOiBib29sZWFuO1xuXHRjYWxsb3V0SWNvbjogYm9vbGVhbjtcblx0ZW1iZWRIZWlnaHQ6IG51bWJlcjtcblx0Y2FsZW5kYXJJbnRlcmFjdGlvbjogYm9vbGVhbjtcblx0Y2FsZW5kYXJXZWVrZW5kOiBib29sZWFuO1xuXHRjYWxlbmRhclBvc2l0aW9uOiBudW1iZXI7XG5cdHByaXZhY3lCbHVyOiBib29sZWFuO1xuXHRwcml2YWN5UmVkYWN0ZWQ6IGJvb2xlYW47XG5cdHJvdW5kZWRVSTogYm9vbGVhbjtcblx0aGlkZGVuQm9yZGVyOiBib29sZWFuO1xufVxuXG5jb25zdCBERUZBVUxUX1NFVFRJTkdTOiBHcm90dG9TZXR0aW5ncyA9IHtcblx0cHJlc2V0T3ZlcnJpZGU6IFwiXCIsXG5cdHRhZ0ludGVyYWN0aW9uOiBmYWxzZSxcblx0dGFnQWNjZW50OiBmYWxzZSxcblx0dGFnU2hhcGU6IGZhbHNlLFxuXHRmb250V2VpZ2h0OiA1MDAsXG5cdGZvbnRXaWR0aDogMTAwLFxuXHRmb3JtYXR0ZWRBY2NlbnQ6IHRydWUsXG5cdGhlYWRlclJvdW5kZWQ6IGZhbHNlLFxuXHR0YWJsZVN0eWxlOiBmYWxzZSxcblx0dGFibGVDb2xvcjogZmFsc2UsXG5cdHRhYmxlV2lkdGg6IHRydWUsXG5cdGNhbGxvdXRJY29uOiBmYWxzZSxcblx0ZW1iZWRIZWlnaHQ6IDQwMDAsXG5cdGNhbGVuZGFySW50ZXJhY3Rpb246IGZhbHNlLFxuXHRjYWxlbmRhcldlZWtlbmQ6IGZhbHNlLFxuXHRjYWxlbmRhclBvc2l0aW9uOiA1MCxcblx0cHJpdmFjeVJlZGFjdGVkOiBmYWxzZSxcblx0cHJpdmFjeUJsdXI6IGZhbHNlLFxuXHRyb3VuZGVkVUk6IGZhbHNlLFxuXHRoaWRkZW5Cb3JkZXI6IGZhbHNlLFxufVxuXG5jbGFzcyBQcmVzZXRTdWdnZXN0TW9kYWwgZXh0ZW5kcyBTdWdnZXN0TW9kYWw8c3RyaW5nPiB7XG5cdHByaXZhdGUgcHJlc2V0czogc3RyaW5nW107XG5cdGNvbnN0cnVjdG9yKGFwcDogQXBwLCBwcmVzZXRzOiBzdHJpbmdbXSwgcHJpdmF0ZSBvbkNob29zZTogKHByZXNldDogc3RyaW5nKSA9PiB2b2lkKSB7XG5cdFx0c3VwZXIoYXBwKTtcblx0XHR0aGlzLnByZXNldHMgPSBwcmVzZXRzO1xuXHRcdHRoaXMuc2V0UGxhY2Vob2xkZXIoXCJTZWFyY2ggYXZhaWxhYmxlIHByZXNldHMuLi5cIik7XG5cdH1cblx0Z2V0U3VnZ2VzdGlvbnMocXVlcnk6IHN0cmluZyk6IHN0cmluZ1tdIHtcblx0XHRyZXR1cm4gdGhpcy5wcmVzZXRzLmZpbHRlcihwcmVzZXQgPT5cblx0XHRcdHByZXNldC50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHF1ZXJ5LnRvTG93ZXJDYXNlKCkpXG5cdFx0KTtcblx0fVxuXHRyZW5kZXJTdWdnZXN0aW9uKHByZXNldDogc3RyaW5nLCBlbDogSFRNTEVsZW1lbnQpIHtcblx0XHRlbC5jcmVhdGVFbCgnZGl2JywgeyB0ZXh0OiBwcmV0dGlmeVByZXNldE5hbWUocHJlc2V0KSB9KTtcblx0fVxuXHRvbkNob29zZVN1Z2dlc3Rpb24ocHJlc2V0OiBzdHJpbmcsIGV2dDogTW91c2VFdmVudCB8IEtleWJvYXJkRXZlbnQpIHtcblx0XHR0aGlzLm9uQ2hvb3NlKHByZXNldCk7XG5cdH1cblx0b25PcGVuKCkge1xuXHRcdHN1cGVyLm9uT3BlbigpO1xuXHRcdHRoaXMuY29udGFpbmVyRWwuY2xhc3NMaXN0LmFkZChcImhpZGRlbi1ncm90dG8tcHJlc2V0c1wiKTtcblx0fVxufVxuXG5mdW5jdGlvbiBwcmV0dGlmeVByZXNldE5hbWUobmFtZTogc3RyaW5nKTogc3RyaW5nIHtcblx0cmV0dXJuIG5hbWVcblx0XHQuc3BsaXQoJy0nKVxuXHRcdC5tYXAod29yZCA9PiB3b3JkLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgd29yZC5zbGljZSgxKSlcblx0XHQuam9pbignICcpO1xufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBIaWRkZW5Hcm90dG8gZXh0ZW5kcyBQbHVnaW4ge1xuXHRzZXR0aW5nczogR3JvdHRvU2V0dGluZ3M7XG5cdHByaXZhdGUgY2FjaGVkUHJlc2V0czogc3RyaW5nW10gfCBudWxsID0gbnVsbDtcblx0YXN5bmMgb25sb2FkKCkge1xuXHRcdGF3YWl0IHRoaXMubG9hZFNldHRpbmdzKCk7XG5cdFx0dGhpcy5hcHBseVNldHRpbmdzVG9ET00oKTtcblx0XHQvLyBDdXN0b20gaWNvbiBmb3IgdGhlIHByZXNldCBjeWNsaW5nXG5cdFx0YWRkSWNvbignY3ljbGUtcHJlc2V0JywgJzxzdmcgdmVyc2lvbj1cIjEuMVwiIGlkPVwiTGF5ZXJfMVwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB4bWxuczp4bGluaz1cImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIiB4PVwiMHB4XCIgeT1cIjBweFwidmlld0JveD1cIjAgMCAyNTYgMjU2XCI+PHBhdGggZmlsbD1jdXJyZW50Q29sb3Igb3BhY2l0eT1cIjEuMDAwMDAwXCIgc3Ryb2tlPVwibm9uZVwiIGQ9XCJNMjQzLjUxNzkxNCwxMDEuNjA2OTY0IEMyNTEuODA3MjUxLDE0MC44NjcxMTEgMjQzLjcyMzYwMiwxNzUuOTA4NDAxIDIxNy43NTMxNDMsMjA2LjA1NzU3MSBDMTk2LjgxODQ4MSwyMzAuMzYwNjcyIDE2OS43ODM5MDUsMjQ0LjA1Mzc0MSAxMzcuNzY1MDc2LDI0Ni4yNDM3OTAgQzcxLjcyMTUyNywyNTAuNzYxMDkzIDE5LjMzMTIzNCwyMDIuNzQ4MzIyIDEyLjM0MTU0NSwxNDMuNzYzNzc5IEM2LjQyMjQ0MCw5My44MTM2NDQgMzEuMDE1NzQxLDQ3LjE2MDI1MiA3NS42MjM5MjQsMjQuMDA4ODQyIEMxMTguNzU3NTk5LDEuNjIyNjkzIDE3My4xNzE5MjEsOS4yNDY2NTYgMjA4LjYwNTEwMyw0Mi4zNDg0MTkgQzIyNS45ODc3NzgsNTguNTg3MzM0IDIzNy43MTAyOTcsNzguMDkzMTU1IDI0My41MTc5MTQsMTAxLjYwNjk2NCBNMTA4Ljc0NDcwNSwzMy4xNDIyMDggQzU3LjU5MzA4Miw0My44Mjg3ODUgMjMuNTE3Mjk0LDk0LjA1MDU4MyAzMi41OTgyMjEsMTQ1LjM2ODkxMiBDNDEuNzQ3OTA2LDE5Ny4wNzU4MjEgODcuMjcyOTExLDIzMS4yNjgyOTUgMTQwLjExOTkxOSwyMjYuMTI1Mjc1IEMxOTMuMTEwMDkyLDIyMC45NjgzMjMgMjMzLjExNTE0MywxNzAuMDE0MzI4IDIyNi4yOTIzNTgsMTE3LjM3MTU2NyBDMjE5LjA1NjU5NSw2MS41NDI0NTQgMTY2LjgwNzYwMiwyMS42MjA1NjcgMTA4Ljc0NDcwNSwzMy4xNDIyMDggelwiLz48cGF0aCBmaWxsPWN1cnJlbnRDb2xvciBvcGFjaXR5PVwiMS4wMDAwMDBcIiBzdHJva2U9XCJub25lXCIgZD1cIk0xMzYuNTU2NzkzLDYxLjI3MzYxMyBDMTM1LjIyMTQyMCw4MC43MDc0NzQgMTQxLjcyMjAzMSw5NS44OTA5ODQgMTU3LjI1NTY2MSwxMDcuNjc3MzQ1IEMxNjQuMDExOTc4LDExMi44MDM3OTUgMTY5LjgyMjcwOCwxMTkuNjY0NzY0IDE3NC42OTA3NjUsMTI2LjY4ODg5NiBDMTg0LjUyNTA4NSwxNDAuODc4ODYwIDE4Mi44MDQ5NDcsMTU2LjUyOTIwNSAxNzEuMDYxOTA1LDE2OS4xNjM1ODkgQzE1OS41Njk4ODUsMTgxLjUyNzkyNCAxNDQuOTkzMDQyLDE4OS4wMzkwMDEgMTI5LjYwNDY2MCwxOTUuMjE5Mzc2IEMxMjYuMjMyMjMxLDE5Ni41NzM4MDcgMTIyLjc4NDYzNywxOTcuNzQxMDg5IDExOS45MTYzMjgsMTk4Ljc5NDUyNSBDMTE5LjE5NTU0OSwxOTEuNDcxMDM5IDExOS4xNjAzMzIsMTg0LjI4Nzg4OCAxMTcuNjY0NjM1LDE3Ny40MjI5MTMgQzExNS4wMzg3ODgsMTY1LjM3MDgxOSAxMDYuNzY5NjA4LDE1Ni44ODkxOTEgOTguMjUwODU0LDE0OC40NTAzMzMgQzkxLjk0MTQyMiwxNDIuMjAwMTA0IDg1LjgyODU2MCwxMzUuMzE1MTI1IDgxLjQyMDY2MiwxMjcuNjc4Mjk5IEM3My43NjAxNzAsMTE0LjQwNjI1OCA3Ni42MDIwODksOTkuMzA0MjY4IDg3LjEzOTc4Niw4OC4xMjE1ODIgQzEwMC4xNjQ0ODIsNzQuMjk5NjY3IDExNi41MjI1MTQsNjYuMDExMzA3IDEzNC4wODE4OTQsNTkuNzI3MzI5IEMxMzQuNzAzMTQwLDU5LjUwNTAwMSAxMzUuNzQ3Nzg3LDYwLjQ2NTcyMSAxMzYuNTU2NzkzLDYxLjI3MzYxMyBNMTA3Ljc0MzYxNCwxMjYuODAxNTUyIEMxMDMuNDY5OTEwLDEyNS40MDQ2MTcgOTkuMTk2MjA1LDEyNC4wMDc2NzUgOTQuMDAxNDE5LDEyMi4zMDk2NjIgQzk3LjA0NjM0MSwxMjkuNTY3OTQ3IDEwMC43NjIwMTYsMTM0LjMwNjgyNCAxMDcuMDkwMDEyLDEzNi44Nzk1NDcgQzExMy41NTExMzIsMTM5LjUwNjM3OCAxMTkuOTc5NDc3LDE0Mi4yODAxMzYgMTI2LjE4NjU5MiwxNDUuNDUwNzYwIEMxMzYuOTU3NTIwLDE1MC45NTI1NjAgMTQ3LjU0Njk1MSwxNTYuODA5NjYyIDE1OC42MTYzMTgsMTYyLjczMzg3MSBDMTYwLjQ5NjM4NCwxNjAuNTUxNTQ0IDE2Mi40Nzg3NzUsMTU4LjI1MDQxMiAxNjQuNzM2Njk0LDE1NS42Mjk0NzEgQzE0Ny41MjI0NzYsMTQyLjAxNTE2NyAxMjguMzA5NDQ4LDEzMy45MzU1NzcgMTA3Ljc0MzYxNCwxMjYuODAxNTUyIE0xMTEuNDM1ODIyLDEwNS4wODA1ODkgQzEwNy4wNTY0ODAsMTAzLjQ4OTk2MCAxMDIuNjUwNzU3LDEwMS45Njc2NTEgOTguMzA1MTMwLDEwMC4yODk3MDMgQzkzLjg0NjUxOSw5OC41NjgxMzggOTIuNzczNjI4LDEwMS44OTYyNzEgOTEuNTE3NDk0LDEwNC43Nzg4NDcgQzkwLjAyNTk5MywxMDguMjAxNTY5IDkyLjgyODYwNiwxMDguNDMxOTM4IDk0Ljk4MzcxMSwxMDkuMzMyMTE1IEMxMTMuNjgxNzA5LDExNy4xNDIwNzUgMTMyLjM5MDc3OCwxMjQuOTI4NjU4IDE1MC45OTgwNzcsMTMyLjk1MDYzOCBDMTU2LjM1MTU3OCwxMzUuMjU4NjM2IDE2MS4zODQ4ODgsMTM4LjMwOTM1NyAxNjcuMDg5NDYyLDE0MS4yOTM5MzAgQzE2Ni40MzQ4NDUsMTMzLjkyMDQxMCAxNjMuMTU4ODQ0LDEyOS4zMDY3OTMgMTU3LjI3NTQyMSwxMjYuNTQwODU1IEMxNDIuMjM5ODM4LDExOS40NzIyOTAgMTI3LjE4NTA0MywxMTIuNDQ0NjI2IDExMS40MzU4MjIsMTA1LjA4MDU4OSBNMTE0LjU3MDM0Myw4My4wMTAzNzYgQzExMi4wODM4NDcsODUuMDAzMDE0IDEwOS41OTczNTksODYuOTk1NjUxIDEwNi4yMzExMDIsODkuNjkzMzIxIEMxMTUuOTU3MzA2LDkzLjYzODg5MyAxMjQuNDI5ODc4LDk3LjA3NTkyMCAxMzMuNjY4MjU5LDEwMC44MjM2MDggQzEzMC44MDkzNzIsOTIuNjQ0MTI3IDEyOC4zMjE5MzAsODUuNTI3NDIwIDEyNS42MjMyOTksNzcuODA2NDY1IEMxMjIuMDQ3MjExLDc5LjQ4ODg1MyAxMTguNjQwNzkzLDgxLjA5MTQxNSAxMTQuNTcwMzQzLDgzLjAxMDM3NiBNMTI2Ljk2Mjc1MywxNjUuNjE0NjI0IEMxMjguOTQyMzA3LDE3MC4zMDQ1MjAgMTMwLjkyMTg0NCwxNzQuOTk0NDE1IDEzMy4wNzk4MzQsMTgwLjEwNzA4NiBDMTM4LjAyODc0OCwxNzcuMjI0NjI1IDE0Mi40Njk1NTksMTc0LjYzODEwNyAxNDcuNzI1NTI1LDE3MS41NzY3OTcgQzEzOS42NzQzNjIsMTY3LjAxNDYzMyAxMzIuNzI5NTM4LDE2My4wNzkzNDYgMTI1Ljc4NDY5OCwxNTkuMTQ0MDczIEMxMjUuNDU0NDA3LDE1OS40NTQ1NDQgMTI1LjEyNDEyMywxNTkuNzY1MDE1IDEyNC43OTM4MzksMTYwLjA3NTQ4NSBDMTI1LjQzNDgzMCwxNjEuNjg0NTcwIDEyNi4wNzU4MTMsMTYzLjI5MzY1NSAxMjYuOTYyNzUzLDE2NS42MTQ2MjQgelwiLz48L3N2Zz4nKVxuXHRcdC8vIEN1c3RvbSBJY29uIGZvciBwcml2YWN5IG1vZGVcblx0XHRhZGRJY29uKCdibHVyLXRvZ2dsZScsICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB4PVwiMHB4XCIgeT1cIjBweFwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjJcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBjbGFzcz1cImx1Y2lkZSBsdWNpZGUtZXllLW9mZi1pY29uIGx1Y2lkZS1leWUtb2ZmXCI+PHBhdGggZD1cIk0xMC43MzMgNS4wNzZhMTAuNzQ0IDEwLjc0NCAwIDAgMSAxMS4yMDUgNi41NzUgMSAxIDAgMCAxIDAgLjY5NiAxMC43NDcgMTAuNzQ3IDAgMCAxLTEuNDQ0IDIuNDlcIi8+PHBhdGggZD1cIk0xNC4wODQgMTQuMTU4YTMgMyAwIDAgMS00LjI0Mi00LjI0MlwiLz48cGF0aCBkPVwiTTE3LjQ3OSAxNy40OTlhMTAuNzUgMTAuNzUgMCAwIDEtMTUuNDE3LTUuMTUxIDEgMSAwIDAgMSAwLS42OTYgMTAuNzUgMTAuNzUgMCAwIDEgNC40NDYtNS4xNDNcIi8+PHBhdGggZD1cIm0yIDIgMjAgMjBcIi8+PC9zdmc+JylcblxuXHRcdHRoaXMuYWRkUmliYm9uSWNvbignY3ljbGUtcHJlc2V0JywgJ0N5Y2xlIHByZXNldHMnLCBhc3luYyAoKSA9PiB7XG5cdFx0XHRhd2FpdCB0aGlzLmN5Y2xlUHJlc2V0KCk7XG5cdFx0fSk7XG5cblx0XHR0aGlzLmFkZENvbW1hbmQoe1xuXHRcdFx0aWQ6ICdjeWNsZS1wcmVzZXQtb3ZlcnJpZGUnLFxuXHRcdFx0bmFtZTogJ0N5Y2xlIHByZXNldCBvdmVycmlkZScsXG5cdFx0XHRpY29uOiAnY3ljbGUtcHJlc2V0Jyxcblx0XHRcdGNhbGxiYWNrOiBhc3luYyAoKSA9PiBhd2FpdCB0aGlzLmN5Y2xlUHJlc2V0KCksXG5cdFx0fSk7XG5cblx0XHR0aGlzLmFkZENvbW1hbmQoe1xuXHRcdFx0aWQ6ICd0b2dnbGUtcHJpdmFjeS1ibHVyJyxcblx0XHRcdG5hbWU6ICdUb2dnbGUgUHJpdmFjeSBCbHVyJyxcblx0XHRcdGljb246ICdibHVyLXRvZ2dsZScsXG5cdFx0XHRjYWxsYmFjazogYXN5bmMgKCkgPT4ge1xuXHRcdFx0XHR0aGlzLnNldHRpbmdzLnByaXZhY3lCbHVyID0gIXRoaXMuc2V0dGluZ3MucHJpdmFjeUJsdXI7XG5cdFx0XHRcdGF3YWl0IHRoaXMuc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdG5ldyBOb3RpY2UodGhpcy5zZXR0aW5ncy5wcml2YWN5Qmx1ciA/ICdQcml2YWN5IGJsdXIgZW5hYmxlZCcgOiAnUHJpdmFjeSBibHVyIGRpc2FibGVkJyk7XG5cdFx0XHR9LFxuXHRcdH0pO1xuXG5cdFx0Ly8gQWRkIHByaXZhY3kgYmx1ciB0b2dnbGUgcmliYm9uIGJ1dHRvblxuXHRcdHRoaXMuYWRkUmliYm9uSWNvbignYmx1ci10b2dnbGUnLCAnVG9nZ2xlIFByaXZhY3kgQmx1cicsIGFzeW5jICgpID0+IHtcblx0XHRcdHRoaXMuc2V0dGluZ3MucHJpdmFjeUJsdXIgPSAhdGhpcy5zZXR0aW5ncy5wcml2YWN5Qmx1cjtcblx0XHRcdGF3YWl0IHRoaXMuc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRuZXcgTm90aWNlKHRoaXMuc2V0dGluZ3MucHJpdmFjeUJsdXIgPyAnUHJpdmFjeSBibHVyIGVuYWJsZWQnIDogJ1ByaXZhY3kgYmx1ciBkaXNhYmxlZCcpO1xuXHRcdH0pO1xuXG5cblx0XHR0aGlzLmFkZFNldHRpbmdUYWIobmV3IEdyb3R0b1NldHRpbmdzVGFiKHRoaXMuYXBwLCB0aGlzKSk7XG5cdH1cblxuXHRwcml2YXRlIHJlbW92ZVByZXNldHMoKSB7XG5cdFx0QXJyYXkuZnJvbShkb2N1bWVudC5ib2R5LmNsYXNzTGlzdCkuZm9yRWFjaChjbHMgPT4ge1xuXHRcdFx0aWYgKGNscy5zdGFydHNXaXRoKCdwcmVzZXQtJykpIHtcblx0XHRcdFx0ZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKGNscyk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cblxuXHQvLyBDeWNsZSB0aHJvdWdoIHRoZSBwcmVzZXRzIGluIG9yZGVyXG5cdGFzeW5jIGN5Y2xlUHJlc2V0KCkge1xuXHRcdGNvbnN0IHByZXNldHMgPSB0aGlzLmdldEF2YWlsYWJsZVByZXNldHMoKTtcblx0XHRpZiAocHJlc2V0cy5sZW5ndGggPT09IDApIHtcblx0XHRcdG5ldyBOb3RpY2UoXCJObyBhdmFpbGFibGUgcHJlc2V0cyBmb3VuZC5cIik7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Y29uc3QgY3VycmVudEluZGV4ID0gcHJlc2V0cy5pbmRleE9mKHRoaXMuc2V0dGluZ3MucHJlc2V0T3ZlcnJpZGUpO1xuXHRcdGNvbnN0IG5leHRJbmRleCA9IChjdXJyZW50SW5kZXggKyAxKSAlIHByZXNldHMubGVuZ3RoO1xuXHRcdGNvbnN0IG5leHRQcmVzZXQgPSBwcmVzZXRzW25leHRJbmRleF07XG5cblx0XHR0aGlzLnNldHRpbmdzLnByZXNldE92ZXJyaWRlID0gbmV4dFByZXNldDtcblx0XHRhd2FpdCB0aGlzLnNhdmVTZXR0aW5ncygpO1xuXG5cdFx0bmV3IE5vdGljZShgUHJlc2V0IGNoYW5nZWQgdG86ICR7cHJldHRpZnlQcmVzZXROYW1lKG5leHRQcmVzZXQpfWApO1xuXHR9XG5cdC8qIEVWRVJZVEhJTkcgQkVMT1cgTkVFRFMgVVBEQVRJTkcgKi9cblx0cHJpdmF0ZSByZXNldERPTVN0eWxlcygpIHtcblx0XHRjb25zdCB2YXJpYWJsZXMgPSBbXG5cdFx0XHQnLS1ncm90dG8tdGFnLXBvaW50ZXItZXZlbnRzJywgJ2ZvbnQtd2VpZ2h0JywgJy0tZmlsZS1saW5lLXdpZHRoJywgJy0tZ3JvdHRvLWJvbGQtY29sb3InLCAnLS1ncm90dG8taXRhbGljLWNvbG9yJywgXG5cdFx0XHQnLS1ncm90dG8tdGFibGUtYm9yZGVyLXN0eWxlJywgJy0tZ3JvdHRvLXRhYmxlLWNvbG9yJywgJy0tZ3JvdHRvLXRhYmxlLWJhY2tncm91bmQtY29sb3InLCAnLS1ncm90dG8tdGFibGUtY2VsbC13aWR0aCcsIFxuXHRcdFx0Jy0tZ3JvdHRvLWNhbGxvdXQtYmFja2dyb3VuZC1jb2xvcicsICctLWdyb3R0by1jYWxsb3V0LWljb24nLCAnLS1lbWJlZC1tYXgtaGVpZ2h0JywgJy0tZ3JvdHRvLWNhbGVuZGFyLXZpZXctaGVpZ2h0J1xuXHRcdF07XG5cdFx0dmFyaWFibGVzLmZvckVhY2godmFyTmFtZSA9PiBkb2N1bWVudC5ib2R5LnN0eWxlLnJlbW92ZVByb3BlcnR5KHZhck5hbWUpKTtcblx0fVxuXHRyZWZyZXNoUHJlc2V0Q2FjaGUoKTogdm9pZCB7XG5cdFx0dGhpcy5jYWNoZWRQcmVzZXRzID0gbnVsbDtcblx0fVxuXG5cdG9udW5sb2FkKCkge1xuXHRcdHRoaXMucmVtb3ZlUHJlc2V0cygpO1xuXHRcdHRoaXMucmVzZXRET01TdHlsZXMoKTtcblx0fVxuXHRhcHBseVNldHRpbmdzVG9ET00oKSB7XG5cdFx0LyogQ29sb3IgQ29udHJvbHMgKi9cblx0XHQvKiBQcmVzZXQgU2VsZWN0aW9uICovXG5cdFx0dGhpcy5yZW1vdmVQcmVzZXRzKCk7XG5cdFx0aWYgKHRoaXMuc2V0dGluZ3MucHJlc2V0T3ZlcnJpZGUgJiYgdGhpcy5zZXR0aW5ncy5wcmVzZXRPdmVycmlkZS50cmltKCkgIT09IFwiXCIpIHtcblx0XHRcdGNvbnN0IHByZXNldENsYXNzID0gYHByZXNldC0ke3RoaXMuc2V0dGluZ3MucHJlc2V0T3ZlcnJpZGUudHJpbSgpLnRvTG93ZXJDYXNlKCl9YDtcblx0XHRcdGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZChwcmVzZXRDbGFzcyk7XG5cdFx0fVxuXHRcdC8qIFVJIENvbnRyb2xzICovXG5cdFx0aWYgKHRoaXMuc2V0dGluZ3Mucm91bmRlZFVJKSB7XG5cdFx0XHRkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoJ2dyb3R0by1yb3VuZGVkLXVpJyk7XG5cdFx0fSBcblx0XHRlbHNlIHtcblx0XHRcdGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnZ3JvdHRvLXJvdW5kZWQtdWknKTtcblx0XHR9XG5cdFx0LyogSGlkZGVuIEJvcmRlcnMgKi9cblx0XHRpZiAodGhpcy5zZXR0aW5ncy5oaWRkZW5Cb3JkZXIpIHtcblx0XHRcdGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZCgnZ3JvdHRvLWhpZGRlbi1ib3JkZXInKTtcblx0XHR9IFxuXHRcdGVsc2Uge1xuXHRcdFx0ZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdncm90dG8taGlkZGVuLWJvcmRlcicpO1xuXHRcdH1cblx0XHQvKiBUYWcgQ29udHJvbHMgKi9cblx0XHQvKiBUYWcgSW50ZXJhY3Rpb24gKi9cblx0XHRjb25zdCBwb2ludGVyRXZlbnRzID0gdGhpcy5zZXR0aW5ncy50YWdJbnRlcmFjdGlvbiA/ICdhdXRvJyA6ICdub25lJztcblx0XHRkb2N1bWVudC5ib2R5LnN0eWxlLnNldFByb3BlcnR5KCctLWdyb3R0by10YWctcG9pbnRlci1ldmVudHMnLCBwb2ludGVyRXZlbnRzKTtcblx0XHQvKiBUYWcgQWNjZW50ICovXG5cdFx0aWYgKHRoaXMuc2V0dGluZ3MudGFnQWNjZW50KSB7XG5cdFx0XHRkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoJ2dyb3R0by10YWctYWNjZW50ZWQnKTtcblx0XHR9IFxuXHRcdGVsc2Uge1xuXHRcdFx0ZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdncm90dG8tdGFnLWFjY2VudGVkJyk7XG5cdFx0fVxuXHRcdC8qIFRhZyBTaGFwZSAqL1xuXHRcdGlmICh0aGlzLnNldHRpbmdzLnRhZ1NoYXBlKSB7XG5cdFx0XHRkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoJ2dyb3R0by10YWctcm91bmRlZCcpO1xuXHRcdH0gXG5cdFx0ZWxzZSB7XG5cdFx0XHRkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ2dyb3R0by10YWctcm91bmRlZCcpO1xuXHRcdH1cblx0XHQvKiBUZXh0IENvbnRyb2xzICovXG5cdFx0LyogRm9udCBXZWlnaHQgKi9cblx0XHRkb2N1bWVudC5ib2R5LnN0eWxlLnNldFByb3BlcnR5KCdmb250LXdlaWdodCcsIHRoaXMuc2V0dGluZ3MuZm9udFdlaWdodC50b1N0cmluZygpKTtcblx0XHQvKiBGaWxlIExpbmUgV2lkdGggKi9cblx0XHRkb2N1bWVudC5ib2R5LnN0eWxlLnNldFByb3BlcnR5KCctLWZpbGUtbGluZS13aWR0aCcsIGAke3RoaXMuc2V0dGluZ3MuZm9udFdpZHRofSVgKTtcblx0XHQvKiBGb3JtYXR0ZWQgVGV4dCBBY2NlbnQgKi9cblx0XHRpZiAodGhpcy5zZXR0aW5ncy5mb3JtYXR0ZWRBY2NlbnQpIHtcblx0XHRcdGRvY3VtZW50LmJvZHkuc3R5bGUuc2V0UHJvcGVydHkoJy0tZ3JvdHRvLWJvbGQtY29sb3InLCAndmFyKC0tZ3JvdHRvLWFjY2VudCknKTtcblx0XHRcdGRvY3VtZW50LmJvZHkuc3R5bGUuc2V0UHJvcGVydHkoJy0tZ3JvdHRvLWl0YWxpYy1jb2xvcicsICd2YXIoLS1ncm90dG8tYWNjZW50KScpO1xuXHRcdH1cblx0XHRlbHNlIHtcblx0XHRcdGRvY3VtZW50LmJvZHkuc3R5bGUuc2V0UHJvcGVydHkoJy0tZ3JvdHRvLWJvbGQtY29sb3InLCAndmFyKC0tdGV4dC1ub3JtYWwpJyk7XG5cdFx0XHRkb2N1bWVudC5ib2R5LnN0eWxlLnNldFByb3BlcnR5KCctLWdyb3R0by1pdGFsaWMtY29sb3InLCAndmFyKC0tdGV4dC1ub3JtYWwpJyk7XG5cdFx0fVxuXHRcdC8qIFNpbXBsaWZpZWQgSGVhZGVycyAqL1xuXHRcdGlmICh0aGlzLnNldHRpbmdzLmhlYWRlclJvdW5kZWQpIHtcblx0XHRcdGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZCgnZ3JvdHRvLWhlYWRlci1yb3VuZGVkJyk7XG5cdFx0fSBcblx0XHRlbHNlIHtcblx0XHRcdGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnZ3JvdHRvLWhlYWRlci1yb3VuZGVkJyk7XG5cdFx0fVxuXHRcdC8qIFRhYmxlIENvbnRyb2xzICovXG5cdFx0LyogVGFibGUgQm9yZGVyIFN0eWxlICovXG5cdFx0Y29uc3QgdGFibGVCb3JkZXJzID0gdGhpcy5zZXR0aW5ncy50YWJsZVN0eWxlID8gJ3NlcGFyYXRlJyA6ICdjb2xsYXBzZSc7XG5cdFx0ZG9jdW1lbnQuYm9keS5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1ncm90dG8tdGFibGUtYm9yZGVyLXN0eWxlJywgdGFibGVCb3JkZXJzKTtcblx0XHQvKiBBY2NlbnRlZCBUYWJsZSBDZWxscyAqL1xuXHRcdGlmICh0aGlzLnNldHRpbmdzLnRhYmxlQ29sb3IpIHtcblx0XHRcdGRvY3VtZW50LmJvZHkuc3R5bGUuc2V0UHJvcGVydHkoJy0tZ3JvdHRvLXRhYmxlLWJhY2tncm91bmQtY29sb3InLCAndmFyKC0tZ3JvdHRvLWFjY2VudCknKTtcblx0XHRcdGRvY3VtZW50LmJvZHkuc3R5bGUuc2V0UHJvcGVydHkoJy0tZ3JvdHRvLXRhYmxlLWNvbG9yJywgJ3ZhcigtLWdyb3R0by1saWdodC0xKScpO1xuXHRcdH1cblx0XHRlbHNlIHtcblx0XHRcdGRvY3VtZW50LmJvZHkuc3R5bGUuc2V0UHJvcGVydHkoJy0tZ3JvdHRvLXRhYmxlLWJhY2tncm91bmQtY29sb3InLCAndmFyKC0tYmFja2dyb3VuZC1wcmltYXJ5KScpO1xuXHRcdFx0ZG9jdW1lbnQuYm9keS5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1ncm90dG8tdGFibGUtY29sb3InLCAndmFyKC0tdGV4dC1ub3JtYWwpJyk7XG5cdFx0fVxuXHRcdC8qIFRhYmxlIENlbGwgV2lkdGggKi9cblx0XHRjb25zdCB0YWJsZVdpZHRoID0gdGhpcy5zZXR0aW5ncy50YWJsZVdpZHRoID8gJ21heC1jb250ZW50JyA6ICdmaXQtY29udGVudCc7XG5cdFx0ZG9jdW1lbnQuYm9keS5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1ncm90dG8tdGFibGUtY2VsbC13aWR0aCcsIHRhYmxlV2lkdGgpO1xuXHRcdC8qIENhbGxvdXRzICovXG5cdFx0Y29uc3QgY2FsbG91dEljb24gPSB0aGlzLnNldHRpbmdzLmNhbGxvdXRJY29uID8gJ2Jsb2NrJyA6ICdub25lJztcblx0XHRkb2N1bWVudC5ib2R5LnN0eWxlLnNldFByb3BlcnR5KCctLWdyb3R0by1jYWxsb3V0LWljb24nLCBjYWxsb3V0SWNvbik7XG5cdFx0LyogRW1iZWRzICovXG5cdFx0ZG9jdW1lbnQuYm9keS5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1lbWJlZC1tYXgtaGVpZ2h0JywgYCR7dGhpcy5zZXR0aW5ncy5lbWJlZEhlaWdodH1weGApO1xuXHRcdC8qIENhbGVuZGFyIFBsdWdpbiAqL1xuXHRcdC8qIEludGVyYWN0aW9uICovXG5cdFx0Y29uc3QgY2FsZW5kYXJwb2ludGVyRXZlbnRzID0gdGhpcy5zZXR0aW5ncy5jYWxlbmRhckludGVyYWN0aW9uID8gJ2F1dG8nIDogJ25vbmUnO1xuXHRcdGRvY3VtZW50LmJvZHkuc3R5bGUuc2V0UHJvcGVydHkoJy0tZ3JvdHRvLWNhbGVuZGFyLXBvaW50ZXItZXZlbnRzJywgY2FsZW5kYXJwb2ludGVyRXZlbnRzKTtcblx0XHQvKiBXZWVrZW5kIEluZGljYXRvciAqL1xuXHRcdGlmICh0aGlzLnNldHRpbmdzLmNhbGVuZGFyV2Vla2VuZCkge1xuXHRcdFx0ZG9jdW1lbnQuYm9keS5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1ncm90dG8tY2FsZW5kYXItd2Vla2VuZC1ib3JkZXItY29sb3InLCAndmFyKC0tZ3JvdHRvLWNhbGVuZGFyLWJvcmRlci1jb2xvciknKTtcblx0XHR9XG5cdFx0ZWxzZSB7XG5cdFx0XHRkb2N1bWVudC5ib2R5LnN0eWxlLnNldFByb3BlcnR5KCctLWdyb3R0by1jYWxlbmRhci13ZWVrZW5kLWJvcmRlci1jb2xvcicsICd0cmFuc3BhcmVudCcpO1xuXHRcdH1cblx0XHQvKiBDYWxlbmRhciBQb3NpdGlvbiAqL1xuXHRcdCctLWdyb3R0by1jYWxlbmRhci12aWV3LWhlaWdodCdcblx0XHRkb2N1bWVudC5ib2R5LnN0eWxlLnNldFByb3BlcnR5KCctLWdyb3R0by1jYWxlbmRhci12aWV3LWhlaWdodCcsIGAke3RoaXMuc2V0dGluZ3MuY2FsZW5kYXJQb3NpdGlvbn12aGApO1xuXHRcdC8qIFByaXZhY3kgU2V0dGluZ3MgKi9cblx0XHRpZiAodGhpcy5zZXR0aW5ncy5wcml2YWN5UmVkYWN0ZWQpIHtcblx0XHRcdGRvY3VtZW50LmJvZHkuc3R5bGUuc2V0UHJvcGVydHkoJy0tZm9udC1pbnRlcmZhY2UnLCAndmFyKC0tZ3JvdHRvLXJlZGFjdGVkKScpO1xuXHRcdFx0ZG9jdW1lbnQuYm9keS5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1mb250LXRleHQnLCAndmFyKC0tZ3JvdHRvLXJlZGFjdGVkKScpO1xuXHRcdFx0ZG9jdW1lbnQuYm9keS5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1mb250LXByaW50JywgJ3ZhcigtLWdyb3R0by1yZWRhY3RlZCknKTtcblx0XHRcdGRvY3VtZW50LmJvZHkuc3R5bGUuc2V0UHJvcGVydHkoJy0tZm9udC1tb25vc3BhY2UnLCAndmFyKC0tZ3JvdHRvLXJlZGFjdGVkKScpO1xuXHRcdH1cblx0XHRlbHNlIHtcblx0XHRcdGRvY3VtZW50LmJvZHkuc3R5bGUuc2V0UHJvcGVydHkoJy0tZm9udC1pbnRlcmZhY2UnLCAndmFyKC0tZm9udC1pbnRlcmZhY2Utb3ZlcnJpZGUpJyk7XG5cdFx0XHRkb2N1bWVudC5ib2R5LnN0eWxlLnNldFByb3BlcnR5KCctLWZvbnQtdGV4dCcsICd2YXIoLS1mb250LXRleHQtb3ZlcnJpZGUpJyk7XG5cdFx0XHRkb2N1bWVudC5ib2R5LnN0eWxlLnNldFByb3BlcnR5KCctLWZvbnQtcHJpbnQnLCAndmFyKC0tZm9udC1wcmludC1vdmVycmlkZSknKTtcblx0XHRcdGRvY3VtZW50LmJvZHkuc3R5bGUuc2V0UHJvcGVydHkoJy0tZm9udC1tb25vc3BhY2UnLCAndmFyKC0tZm9udC1tb25vc3BhY2Utb3ZlcnJpZGUpJyk7XG5cdFx0fVxuXHRcdGlmICh0aGlzLnNldHRpbmdzLnByaXZhY3lCbHVyKSB7XG5cdFx0XHRkb2N1bWVudC5ib2R5LnN0eWxlLnNldFByb3BlcnR5KCctLWdyb3R0by1ibHVyJywgJzRweCcpO1xuXHRcdH1cblx0XHRlbHNlIHtcblx0XHRcdGRvY3VtZW50LmJvZHkuc3R5bGUuc2V0UHJvcGVydHkoJy0tZ3JvdHRvLWJsdXInLCAnMHB4Jyk7XG5cdFx0fVxuXHR9XG5cdC8vIENoZWNrIGZvciBwcmVzZXRzIGluIHRoZSBjc3MgYW5kIHRoZW1lIGZpbGVzIHRvIGRpc3BsYXkgaW4gdGhlIHNldHRpbmdzIHRhYlxuXHRnZXRBdmFpbGFibGVQcmVzZXRzKCk6IHN0cmluZ1tdIHtcblx0XHRpZiAodGhpcy5jYWNoZWRQcmVzZXRzKSByZXR1cm4gdGhpcy5jYWNoZWRQcmVzZXRzO1xuXHRcdGNvbnN0IHByZXNldFJlZ2V4ID0gL1xcLnByZXNldC0oW2EtekEtWjAtOV8tXSspL2c7XG5cdFx0Y29uc3QgcHJlc2V0cyA9IG5ldyBTZXQ8c3RyaW5nPigpO1xuXHRcdGZvciAoY29uc3Qgc2hlZXQgb2YgQXJyYXkuZnJvbShkb2N1bWVudC5zdHlsZVNoZWV0cykpIHtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdGNvbnN0IHJ1bGVzID0gc2hlZXQuY3NzUnVsZXM7XG5cdFx0XHRcdGZvciAoY29uc3QgcnVsZSBvZiBBcnJheS5mcm9tKHJ1bGVzKSkge1xuXHRcdFx0XHRcdGlmIChydWxlIGluc3RhbmNlb2YgQ1NTU3R5bGVSdWxlKSB7XG5cdFx0XHRcdFx0XHRsZXQgbWF0Y2g7XG5cdFx0XHRcdFx0XHR3aGlsZSAoKG1hdGNoID0gcHJlc2V0UmVnZXguZXhlYyhydWxlLnNlbGVjdG9yVGV4dCkpKSB7XG5cdFx0XHRcdFx0XHRcdHByZXNldHMuYWRkKG1hdGNoWzFdKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0gY2F0Y2gge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblx0XHR9XG5cdFx0dGhpcy5jYWNoZWRQcmVzZXRzID0gQXJyYXkuZnJvbShwcmVzZXRzKS5zb3J0KCk7XG5cdFx0cmV0dXJuIHRoaXMuY2FjaGVkUHJlc2V0cztcblx0fVxuXHRhc3luYyBsb2FkU2V0dGluZ3MoKSB7XG5cdFx0Y29uc3QgbG9hZGVkRGF0YSA9IGF3YWl0IHRoaXMubG9hZERhdGEoKTtcblx0XHR0aGlzLnNldHRpbmdzID0geyAuLi5ERUZBVUxUX1NFVFRJTkdTLCAuLi5sb2FkZWREYXRhIH07XG5cdH1cblx0YXN5bmMgc2F2ZVNldHRpbmdzKCkge1xuXHRcdGF3YWl0IHRoaXMuc2F2ZURhdGEodGhpcy5zZXR0aW5ncyk7XG5cdFx0dGhpcy5hcHBseVNldHRpbmdzVG9ET00oKTtcblx0fVxufVxuXG5jbGFzcyBHcm90dG9TZXR0aW5nc1RhYiBleHRlbmRzIFBsdWdpblNldHRpbmdUYWIge1xuXHRwbHVnaW46IEhpZGRlbkdyb3R0bztcblx0Y29uc3RydWN0b3IoYXBwOiBBcHAsIHBsdWdpbjogSGlkZGVuR3JvdHRvKSB7XG5cdFx0c3VwZXIoYXBwLCBwbHVnaW4pO1xuXHRcdHRoaXMucGx1Z2luID0gcGx1Z2luO1xuXHR9XG5cblx0ZGlzcGxheSgpOiB2b2lkIHtcblx0XHRjb25zdCB7IGNvbnRhaW5lckVsIH0gPSB0aGlzO1xuXHRcdGNvbnRhaW5lckVsLmVtcHR5KCk7XG5cdFx0Ly8gQ29sb3IgQ29udHJvbHNcblx0XHRjb25zdCBjb2xvckdyb3VwID0gY29udGFpbmVyRWwuY3JlYXRlRWwoJ2RpdicsIHsgY2xzOiAnc2V0dGluZy1ncm91cCcgfSk7XG5cdFx0Y29sb3JHcm91cFxuXHRcdFx0LmNyZWF0ZUVsKCdkaXYnLCB7IGNsczogJ3NldHRpbmctaXRlbSBzZXR0aW5nLWl0ZW0taGVhZGluZycgfSlcbiAgXHRcdFx0LmNyZWF0ZUVsKCdkaXYnLCB7IHRleHQ6ICdDb2xvciBDb250cm9scycsIGNsczogJ3NldHRpbmctaXRlbS1uYW1lJyB9KTtcblx0XHRjb25zdCBjb2xvckdyb3VwSXRlbXMgPSBjb2xvckdyb3VwLmNyZWF0ZUVsKCdkaXYnLCB7IGNsczogJ3NldHRpbmctaXRlbXMnIH0pO1xuXHRcdC8vIFByZXNldHNcblx0XHRjb25zdCBhdmFpbGFibGVQcmVzZXRzID0gdGhpcy5wbHVnaW4uZ2V0QXZhaWxhYmxlUHJlc2V0cygpO1xuXHRcdGNvbnN0IGRpc3BsYXlQcmVzZXRzID0gYXZhaWxhYmxlUHJlc2V0cy5tYXAocHJldHRpZnlQcmVzZXROYW1lKTtcblx0XHRsZXQgcHJlc2V0SW5mb1RleHQgPSBkaXNwbGF5UHJlc2V0cy5sZW5ndGggPiAwXG5cdFx0XHQ/IGBBdmFpbGFibGUgcHJlc2V0czogJHtkaXNwbGF5UHJlc2V0cy5qb2luKCcsICcpfWBcblx0XHRcdDogYE5vIHByZXNldCBjbGFzc2VzIGZvdW5kIGluIGxvYWRlZCBzdHlsZXNoZWV0cy5gO1xuXHRcdG5ldyBTZXR0aW5nKGNvbG9yR3JvdXBJdGVtcylcblx0XHRcdC5zZXROYW1lKFwiUHJlc2V0c1wiKVxuXHRcdFx0LnNldERlc2MoY3JlYXRlRnJhZ21lbnQoZnJhZyA9PiB7XG5cdFx0XHRcdGZyYWcuYXBwZW5kVGV4dChcIlNlbGVjdCBhIGN1c3RvbSBwcmVzZXRcIik7XG5cdFx0XHRcdGZyYWcuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJyXCIpKTtcblx0XHRcdFx0Y29uc3QgcHJlc2V0c0xpbmUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuXHRcdFx0XHRwcmVzZXRzTGluZS50ZXh0Q29udGVudCA9IHByZXNldEluZm9UZXh0O1xuXHRcdFx0XHRmcmFnLmFwcGVuZENoaWxkKHByZXNldHNMaW5lKTtcblx0XHRcdH0pKVxuXHRcdFx0LmFkZEJ1dHRvbihidXR0b24gPT4ge1xuXHRcdFx0XHRjb25zdCBjdXJyZW50UHJlc2V0ID0gdGhpcy5wbHVnaW4uc2V0dGluZ3MucHJlc2V0T3ZlcnJpZGUgfHwgXCJOb25lXCI7XG5cdFx0XHRcdGJ1dHRvbi5zZXRCdXR0b25UZXh0KHByZXR0aWZ5UHJlc2V0TmFtZShjdXJyZW50UHJlc2V0KSlcblx0XHRcdFx0XHQub25DbGljaygoKSA9PiB7XG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5yZWZyZXNoUHJlc2V0Q2FjaGUoKTtcblx0XHRcdFx0XHRcdGNvbnN0IGF2YWlsYWJsZVByZXNldHMgPSB0aGlzLnBsdWdpbi5nZXRBdmFpbGFibGVQcmVzZXRzKCk7XG5cdFx0XHRcdFx0XHRuZXcgUHJlc2V0U3VnZ2VzdE1vZGFsKHRoaXMuYXBwLCBhdmFpbGFibGVQcmVzZXRzLCBhc3luYyAoY2hvc2VuUHJlc2V0KSA9PiB7XG5cdFx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLnByZXNldE92ZXJyaWRlID0gY2hvc2VuUHJlc2V0O1xuXHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0XHRcdFx0dGhpcy5kaXNwbGF5KCk7XG5cdFx0XHRcdFx0XHR9KS5vcGVuKCk7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHR9KTtcblx0XHQvLyBUYWcgQ29udHJvbHNcblx0XHRjb25zdCB0YWdHcm91cCA9IGNvbnRhaW5lckVsLmNyZWF0ZUVsKCdkaXYnLCB7IGNsczogJ3NldHRpbmctZ3JvdXAnIH0pO1xuXHRcdHRhZ0dyb3VwXG5cdFx0XHQuY3JlYXRlRWwoJ2RpdicsIHsgY2xzOiAnc2V0dGluZy1pdGVtIHNldHRpbmctaXRlbS1oZWFkaW5nJyB9KVxuICBcdFx0XHQuY3JlYXRlRWwoJ2RpdicsIHsgdGV4dDogJ1RhZyBDb250cm9scycsIGNsczogJ3NldHRpbmctaXRlbS1uYW1lJyB9KTtcblx0XHRjb25zdCB0YWdHcm91cEl0ZW1zID0gdGFnR3JvdXAuY3JlYXRlRWwoJ2RpdicsIHsgY2xzOiAnc2V0dGluZy1pdGVtcycgfSk7XG5cdFx0Ly8gVGFnc1xuXHRcdG5ldyBTZXR0aW5nKHRhZ0dyb3VwSXRlbXMpXG5cdFx0XHQuc2V0TmFtZSgnVGFnIEludGVyYWN0aW9uJylcblx0XHRcdC5zZXREZXNjKCdFbmFibGUgdGFnIHNlYXJjaCB3aGVuIGNsaWNraW5nIG9uIGEgdGFnJylcblx0XHRcdC5hZGRUb2dnbGUodG9nZ2xlID0+IHtcblx0XHRcdFx0dG9nZ2xlXG5cdFx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnRhZ0ludGVyYWN0aW9uKVxuXHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLnRhZ0ludGVyYWN0aW9uID0gdmFsdWU7XG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdH0pO1xuXHRcdG5ldyBTZXR0aW5nKHRhZ0dyb3VwSXRlbXMpXG5cdFx0XHQuc2V0TmFtZSgnVGFnIEFjY2VudCcpXG5cdFx0XHQuc2V0RGVzYygnRW5hYmxlIHRvIHVzZSBhY2NlbnRlZCB0YWdzJylcblx0XHRcdC5hZGRUb2dnbGUodG9nZ2xlID0+IHtcblx0XHRcdFx0dG9nZ2xlXG5cdFx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnRhZ0FjY2VudClcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy50YWdBY2NlbnQgPSB2YWx1ZTtcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0fSk7XG5cdFx0bmV3IFNldHRpbmcodGFnR3JvdXBJdGVtcylcblx0XHRcdC5zZXROYW1lKCdUYWcgU2hhcGUnKVxuXHRcdFx0LnNldERlc2MoJ0VuYWJsZSB0byB1c2Ugcm91bmRlZCB0YWdzJylcblx0XHRcdC5hZGRUb2dnbGUodG9nZ2xlID0+IHtcblx0XHRcdFx0dG9nZ2xlXG5cdFx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnRhZ1NoYXBlKVxuXHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLnRhZ1NoYXBlID0gdmFsdWU7XG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdH0pO1xuXHRcdC8vIFRleHQgQ29udHJvbHNcblx0XHRjb25zdCB0ZXh0R3JvdXAgPSBjb250YWluZXJFbC5jcmVhdGVFbCgnZGl2JywgeyBjbHM6ICdzZXR0aW5nLWdyb3VwJyB9KTtcblx0XHR0ZXh0R3JvdXBcblx0XHRcdC5jcmVhdGVFbCgnZGl2JywgeyBjbHM6ICdzZXR0aW5nLWl0ZW0gc2V0dGluZy1pdGVtLWhlYWRpbmcnIH0pXG4gIFx0XHRcdC5jcmVhdGVFbCgnZGl2JywgeyB0ZXh0OiAnVGV4dCBDb250cm9scycsIGNsczogJ3NldHRpbmctaXRlbS1uYW1lJyB9KTtcblx0XHRjb25zdCB0ZXh0R3JvdXBJdGVtcyA9IHRleHRHcm91cC5jcmVhdGVFbCgnZGl2JywgeyBjbHM6ICdzZXR0aW5nLWl0ZW1zJyB9KTtcblx0XHQvLyBGb250IFdlaWdodFxuXHRcdGNvbnN0IGZvbnRXZWlnaHRTZXR0aW5nID0gbmV3IFNldHRpbmcodGV4dEdyb3VwSXRlbXMpXG5cdFx0XHQuc2V0TmFtZShcIkZvbnQgV2VpZ2h0XCIpXG5cdFx0XHQuc2V0RGVzYyhcIkFkanVzdCB0aGUgZm9udCB3ZWlnaHRcIik7XG5cdFx0Y29uc3QgY3VycmVudFZhbHVlRWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0XHRjdXJyZW50VmFsdWVFbC50ZXh0Q29udGVudCA9IGBDdXJyZW50IHdlaWdodDogJHt0aGlzLnBsdWdpbi5zZXR0aW5ncy5mb250V2VpZ2h0IHx8IDQwMH1gO1xuXHRcdGZvbnRXZWlnaHRTZXR0aW5nLmRlc2NFbC5hcHBlbmRDaGlsZChjdXJyZW50VmFsdWVFbCk7XG5cdFx0Zm9udFdlaWdodFNldHRpbmcuYWRkU2xpZGVyKHNsaWRlciA9PiB7XG5cdFx0XHRzbGlkZXJcblx0XHRcdFx0LnNldExpbWl0cygyMDAsIDgwMCwgMTAwKVxuXHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuZm9udFdlaWdodCB8fCA0MDApXG5cdFx0XHRcdC5zZXREeW5hbWljVG9vbHRpcCgpXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5mb250V2VpZ2h0ID0gdmFsdWU7XG5cdFx0XHRcdFx0Y3VycmVudFZhbHVlRWwudGV4dENvbnRlbnQgPSBgQ3VycmVudCB3ZWlnaHQ6ICR7dmFsdWV9YDtcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0fSk7XG5cdFx0XHRyZXR1cm4gc2xpZGVyO1xuXHRcdH0pO1xuXHRcdGZvbnRXZWlnaHRTZXR0aW5nLmFkZEV4dHJhQnV0dG9uKGJ0biA9PiB7XG5cdFx0XHRidG4uc2V0SWNvbigncmVzZXQnKVxuXHRcdFx0XHQuc2V0VG9vbHRpcCgnUmVzZXQgdG8gZGVmYXVsdCcpXG5cdFx0XHRcdC5vbkNsaWNrKGFzeW5jICgpID0+IHtcblx0XHRcdFx0XHRjb25zdCBkZWZhdWx0VmFsdWUgPSA0MDA7XG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuZm9udFdlaWdodCA9IGRlZmF1bHRWYWx1ZTtcblx0XHRcdFx0XHRjdXJyZW50VmFsdWVFbC50ZXh0Q29udGVudCA9IGBDdXJyZW50IHdlaWdodDogJHtkZWZhdWx0VmFsdWV9YDtcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0XHR0aGlzLmRpc3BsYXkoKTtcblx0XHRcdFx0fSk7XG5cdFx0fSk7XG5cdFx0Ly8gVGV4dCBXaWR0aFxuXHRcdGNvbnN0IGZvbnRXaWR0aFNldHRpbmcgPSBuZXcgU2V0dGluZyh0ZXh0R3JvdXBJdGVtcylcblx0XHRcdC5zZXROYW1lKFwiRmlsZSBMaW5lIFdpZHRoXCIpXG5cdFx0XHQuc2V0RGVzYyhcIkFkanVzdCB0aGUgd2lkdGggb2YgdGhlIHZpZXdhYmxlIGxpbmVzIG9mIHRleHRcIik7XG5cdFx0Y29uc3QgY3VycmVudEZvbnRXaWR0aEVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdFx0Y3VycmVudEZvbnRXaWR0aEVsLnRleHRDb250ZW50ID0gYEN1cnJlbnQgd2lkdGg6ICR7dGhpcy5wbHVnaW4uc2V0dGluZ3MuZm9udFdpZHRoIHx8IDEwMH0lYDtcblx0XHRmb250V2lkdGhTZXR0aW5nLmRlc2NFbC5hcHBlbmRDaGlsZChjdXJyZW50Rm9udFdpZHRoRWwpO1xuXHRcdGZvbnRXaWR0aFNldHRpbmcuYWRkU2xpZGVyKHNsaWRlciA9PiB7XG5cdFx0XHRzbGlkZXJcblx0XHRcdFx0LnNldExpbWl0cyg1MCwgMTAwLCA1KVxuXHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuZm9udFdpZHRoIHx8IDEwMClcblx0XHRcdFx0LnNldER5bmFtaWNUb29sdGlwKClcblx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmZvbnRXaWR0aCA9IHZhbHVlO1xuXHRcdFx0XHRcdGN1cnJlbnRGb250V2lkdGhFbC50ZXh0Q29udGVudCA9IGBDdXJyZW50IHdpZHRoOiAke3ZhbHVlfSVgO1xuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHR9KTtcblx0XHRcdHJldHVybiBzbGlkZXI7XG5cdFx0fSk7XG5cdFx0Zm9udFdpZHRoU2V0dGluZy5hZGRFeHRyYUJ1dHRvbihidG4gPT4ge1xuXHRcdFx0YnRuLnNldEljb24oJ3Jlc2V0Jylcblx0XHRcdFx0LnNldFRvb2x0aXAoJ1Jlc2V0IHRvIGRlZmF1bHQnKVxuXHRcdFx0XHQub25DbGljayhhc3luYyAoKSA9PiB7XG5cdFx0XHRcdFx0Y29uc3QgZGVmYXVsdFZhbHVlID0gMTAwO1xuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmZvbnRXaWR0aCA9IGRlZmF1bHRWYWx1ZTtcblx0XHRcdFx0XHRjdXJyZW50Rm9udFdpZHRoRWwudGV4dENvbnRlbnQgPSBgQ3VycmVudCB3aWR0aDogJHtkZWZhdWx0VmFsdWV9JWA7XG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdFx0dGhpcy5kaXNwbGF5KCk7XG5cdFx0XHRcdH0pO1xuXHRcdH0pO1xuXHRcdG5ldyBTZXR0aW5nKHRleHRHcm91cEl0ZW1zKVxuXHRcdFx0LnNldE5hbWUoJ0Zvcm1hdHRlZCBUZXh0IEFjY2VudCcpXG5cdFx0XHQuc2V0RGVzYygnRW5hYmxlIHRvIHVzZSBhbiBhY2NlbnRlZCBib2xkIGFuZCBpdGFsaWMgdGV4dCcpXG5cdFx0XHQuYWRkVG9nZ2xlKHRvZ2dsZSA9PiB7XG5cdFx0XHRcdHRvZ2dsZVxuXHRcdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5mb3JtYXR0ZWRBY2NlbnQpXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuZm9ybWF0dGVkQWNjZW50ID0gdmFsdWU7XG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdH0pO1xuXHRcdG5ldyBTZXR0aW5nKHRleHRHcm91cEl0ZW1zKVxuXHRcdFx0LnNldE5hbWUoJ0hlYWRlciBTaGFwZScpXG5cdFx0XHQuc2V0RGVzYygnRW5hYmxlIHRvIHVzZSByb3VuZGVkIGhlYWRlcnMnKVxuXHRcdFx0LmFkZFRvZ2dsZSh0b2dnbGUgPT4ge1xuXHRcdFx0XHR0b2dnbGVcblx0XHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuaGVhZGVyUm91bmRlZClcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5oZWFkZXJSb3VuZGVkID0gdmFsdWU7XG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdH0pO1xuXHRcdGNvbnN0IHRhYmxlR3JvdXAgPSBjb250YWluZXJFbC5jcmVhdGVFbCgnZGl2JywgeyBjbHM6ICdzZXR0aW5nLWdyb3VwJyB9KTtcblx0XHR0YWJsZUdyb3VwXG5cdFx0XHQuY3JlYXRlRWwoJ2RpdicsIHsgY2xzOiAnc2V0dGluZy1pdGVtIHNldHRpbmctaXRlbS1oZWFkaW5nJyB9KVxuICBcdFx0XHQuY3JlYXRlRWwoJ2RpdicsIHsgdGV4dDogJ1RhYmxlIENvbnRyb2xzJywgY2xzOiAnc2V0dGluZy1pdGVtLW5hbWUnIH0pO1xuXHRcdGNvbnN0IHRhYmxlR3JvdXBJdGVtcyA9IHRhYmxlR3JvdXAuY3JlYXRlRWwoJ2RpdicsIHsgY2xzOiAnc2V0dGluZy1pdGVtcycgfSk7XG5cdFx0Ly8gVGFibGUgYm9yZGVyIHN0eWxlXG5cdFx0bmV3IFNldHRpbmcodGFibGVHcm91cEl0ZW1zKVxuXHRcdFx0LnNldE5hbWUoJ1RhYmxlIEJvcmRlciBTdHlsZScpXG5cdFx0XHQuc2V0RGVzYygnRW5hYmxlIHRvIHNlcGFyYXRlIHRoZSB0YWJsZSBib3JkZXJzJylcblx0XHRcdC5hZGRUb2dnbGUodG9nZ2xlID0+IHtcblx0XHRcdFx0dG9nZ2xlXG5cdFx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnRhYmxlU3R5bGUpXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MudGFibGVTdHlsZSA9IHZhbHVlO1xuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHR9KTtcblx0XHRuZXcgU2V0dGluZyh0YWJsZUdyb3VwSXRlbXMpXG5cdFx0XHQuc2V0TmFtZSgnVGFibGUgQmFja2dyb3VuZCBBY2NlbnQnKVxuXHRcdFx0LnNldERlc2MoJ0VuYWJsZSB0byB1c2UgYW4gYWNjZW50ZWQgYmFja2dyb3VuZCBmb3IgdGFibGUgY2VsbHMnKVxuXHRcdFx0LmFkZFRvZ2dsZSh0b2dnbGUgPT4ge1xuXHRcdFx0XHR0b2dnbGVcblx0XHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MudGFibGVDb2xvcilcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy50YWJsZUNvbG9yID0gdmFsdWU7XG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdH0pO1xuXHRcdG5ldyBTZXR0aW5nKHRhYmxlR3JvdXBJdGVtcylcblx0XHRcdC5zZXROYW1lKCdUYWJsZSBDZWxsIFdpZHRoJylcblx0XHRcdC5zZXREZXNjKCdFbmFibGUgdG8gbWF4aW1pemUgdGFibGUgY2VsbCB3aWR0aCcpXG5cdFx0XHQuYWRkVG9nZ2xlKHRvZ2dsZSA9PiB7XG5cdFx0XHRcdHRvZ2dsZVxuXHRcdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy50YWJsZVdpZHRoKVxuXHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLnRhYmxlV2lkdGggPSB2YWx1ZTtcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0fSk7XG5cdFx0LyogQ2FsbG91dCBDb250cm9scyAqL1xuXHRcdGNvbnN0IGNhbGxvdXRHcm91cCA9IGNvbnRhaW5lckVsLmNyZWF0ZUVsKCdkaXYnLCB7IGNsczogJ3NldHRpbmctZ3JvdXAnIH0pO1xuXHRcdGNhbGxvdXRHcm91cFxuXHRcdFx0LmNyZWF0ZUVsKCdkaXYnLCB7IGNsczogJ3NldHRpbmctaXRlbSBzZXR0aW5nLWl0ZW0taGVhZGluZycgfSlcbiAgXHRcdFx0LmNyZWF0ZUVsKCdkaXYnLCB7IHRleHQ6ICdDYWxsb3V0IGFuZCBFbWJlZCBDb250cm9scycsIGNsczogJ3NldHRpbmctaXRlbS1uYW1lJyB9KTtcblx0XHRjb25zdCBjYWxsb3V0R3JvdXBJdGVtcyA9IGNhbGxvdXRHcm91cC5jcmVhdGVFbCgnZGl2JywgeyBjbHM6ICdzZXR0aW5nLWl0ZW1zJyB9KTtcblx0XHRuZXcgU2V0dGluZyhjYWxsb3V0R3JvdXBJdGVtcylcblx0XHRcdC5zZXROYW1lKCdDYWxsb3V0IEljb24nKVxuXHRcdFx0LnNldERlc2MoJ0VuYWJsZSB0byBkaXNwbGF5IGNhbGxvdXQgaWNvbnMnKVxuXHRcdFx0LmFkZFRvZ2dsZSh0b2dnbGUgPT4ge1xuXHRcdFx0XHR0b2dnbGVcblx0XHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuY2FsbG91dEljb24pXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuY2FsbG91dEljb24gPSB2YWx1ZTtcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0fSk7XG5cdFx0Ly8gRW1iZWQgTWF4IEhlaWdodFxuXHRcdGNvbnN0IGVtYmVkSGVpZ2h0U2V0dGluZyA9IG5ldyBTZXR0aW5nKGNhbGxvdXRHcm91cEl0ZW1zKVxuXHRcdFx0LnNldE5hbWUoJ0VtYmVkIE1heCBIZWlnaHQnKVxuXHRcdFx0LnNldERlc2MoJ1NldCB0aGUgbWF4aW11bSB2aWV3YWJsZSBoZWlnaHQgb2YgZW1iZWRzJyk7XG5cblx0XHRjb25zdCBjdXJyZW50RW1iZWRIZWlnaHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0XHRjdXJyZW50RW1iZWRIZWlnaHQudGV4dENvbnRlbnQgPSBgQ3VycmVudCBoZWlnaHQ6ICR7dGhpcy5wbHVnaW4uc2V0dGluZ3MuZW1iZWRIZWlnaHQgfHwgNDAwMH1weGA7XG5cdFx0ZW1iZWRIZWlnaHRTZXR0aW5nLmRlc2NFbC5hcHBlbmRDaGlsZChjdXJyZW50RW1iZWRIZWlnaHQpO1xuXHRcdGVtYmVkSGVpZ2h0U2V0dGluZy5hZGRTbGlkZXIoc2xpZGVyID0+IHtcblx0XHRcdHNsaWRlclxuXHRcdFx0XHQuc2V0TGltaXRzKDEwMCwgODAwMCwgMTAwKVxuXHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuZW1iZWRIZWlnaHQgfHwgNDAwMClcblx0XHRcdFx0LnNldER5bmFtaWNUb29sdGlwKClcblx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmVtYmVkSGVpZ2h0ID0gdmFsdWU7XG5cdFx0XHRcdFx0Y3VycmVudEVtYmVkSGVpZ2h0LnRleHRDb250ZW50ID0gYEN1cnJlbnQgaGVpZ2h0OiAke3ZhbHVlfXB4YDtcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0fSk7XG5cdFx0XHRyZXR1cm4gc2xpZGVyO1xuXHRcdH0pO1xuXHRcdGVtYmVkSGVpZ2h0U2V0dGluZy5hZGRFeHRyYUJ1dHRvbihidG4gPT4ge1xuXHRcdFx0YnRuLnNldEljb24oJ3Jlc2V0Jylcblx0XHRcdFx0LnNldFRvb2x0aXAoJ1Jlc2V0IHRvIGRlZmF1bHQnKVxuXHRcdFx0XHQub25DbGljayhhc3luYyAoKSA9PiB7XG5cdFx0XHRcdFx0Y29uc3QgZGVmYXVsdFZhbHVlID0gNDAwMDtcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5lbWJlZEhlaWdodCA9IGRlZmF1bHRWYWx1ZTtcblx0XHRcdFx0XHRjdXJyZW50RW1iZWRIZWlnaHQudGV4dENvbnRlbnQgPSBgQ3VycmVudCBoZWlnaHQ6ICR7ZGVmYXVsdFZhbHVlfXB4YDtcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0XHR0aGlzLmRpc3BsYXkoKTtcblx0XHRcdFx0fSk7XG5cdFx0fSk7XG5cdFx0Ly8gQ2FsZW5kYXIgU2V0dGluZ3Ncblx0XHRjb25zdCBjYWxlbmRhckdyb3VwID0gY29udGFpbmVyRWwuY3JlYXRlRWwoJ2RpdicsIHsgY2xzOiAnc2V0dGluZy1ncm91cCcgfSk7XG5cdFx0Y2FsZW5kYXJHcm91cFxuXHRcdFx0LmNyZWF0ZUVsKCdkaXYnLCB7IGNsczogJ3NldHRpbmctaXRlbSBzZXR0aW5nLWl0ZW0taGVhZGluZycgfSlcbiAgXHRcdFx0LmNyZWF0ZUVsKCdkaXYnLCB7IHRleHQ6ICdDYWxlbmRhciBQbHVnaW4gQ29udHJvbHMnLCBjbHM6ICdzZXR0aW5nLWl0ZW0tbmFtZScgfSk7XG5cdFx0Y29uc3QgY2FsZW5kYXJHcm91cEl0ZW1zID0gY2FsZW5kYXJHcm91cC5jcmVhdGVFbCgnZGl2JywgeyBjbHM6ICdzZXR0aW5nLWl0ZW1zJyB9KTtcblx0XHRuZXcgU2V0dGluZyhjYWxlbmRhckdyb3VwSXRlbXMpXG5cdFx0XHQuc2V0TmFtZSgnQ2FsZW5kYXIgSW50ZXJhY3Rpb24nKVxuXHRcdFx0LnNldERlc2MoJ0VuYWJsZSB0byBhbGxvdyBkYWlseSBub3RlIGFjY2VzcyB3aGVuIGNsaWNraW5nIG9uIGEgZGF0ZScpXG5cdFx0XHQuYWRkVG9nZ2xlKHRvZ2dsZSA9PiB7XG5cdFx0XHRcdHRvZ2dsZVxuXHRcdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5jYWxlbmRhckludGVyYWN0aW9uKVxuXHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmNhbGVuZGFySW50ZXJhY3Rpb24gPSB2YWx1ZTtcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0fSk7XG5cdFx0Ly8gQ2FsZW5kYXIgV2Vla2VuZFxuXHRcdG5ldyBTZXR0aW5nKGNhbGVuZGFyR3JvdXBJdGVtcylcblx0XHRcdC5zZXROYW1lKCdDYWxlbmRhciBXZWVrZW5kIFNlcGFyYXRvcicpXG5cdFx0XHQuc2V0RGVzYygnRW5hYmxlIHRvIHNlcGFyYXRlIHRoZSB3ZWVrZW5kIHdpdGggYSBib3JkZXInKVxuXHRcdFx0LmFkZFRvZ2dsZSh0b2dnbGUgPT4ge1xuXHRcdFx0XHR0b2dnbGVcblx0XHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuY2FsZW5kYXJXZWVrZW5kKVxuXHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmNhbGVuZGFyV2Vla2VuZCA9IHZhbHVlO1xuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHR9KTtcblx0XHQvLyBDYWxlbmRhciBQb3NpdGlvblxuXHRcdGNvbnN0IGNhbGVuZGFyUG9zaXRpb25TZXR0aW5nID0gbmV3IFNldHRpbmcoY2FsZW5kYXJHcm91cEl0ZW1zKVxuXHRcdFx0LnNldE5hbWUoJ0NhbGVuZGFyIFBvc2l0aW9uJylcblx0XHRcdC5zZXREZXNjKCdBZGp1c3QgdGhlIHBvc2l0aW9uIG9mIHRoZSBjYWxlbmRhciBwbHVnaW4gaW4gdGhlIHNpZGViYXIgb24gbW9iaWxlJyk7XG5cblx0XHRjb25zdCBjYWxlbmRhckhlaWdodCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXHRcdGNhbGVuZGFySGVpZ2h0LnRleHRDb250ZW50ID0gYEN1cnJlbnQgaGVpZ2h0OiAke3RoaXMucGx1Z2luLnNldHRpbmdzLmNhbGVuZGFyUG9zaXRpb24gfHwgNTB9dmhgO1xuXHRcdGNhbGVuZGFyUG9zaXRpb25TZXR0aW5nLmRlc2NFbC5hcHBlbmRDaGlsZChjYWxlbmRhckhlaWdodCk7XG5cdFx0Y2FsZW5kYXJQb3NpdGlvblNldHRpbmcuYWRkU2xpZGVyKHNsaWRlciA9PiB7XG5cdFx0XHRzbGlkZXJcblx0XHRcdFx0LnNldExpbWl0cygwLCA1MCwgNSlcblx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmNhbGVuZGFyUG9zaXRpb24gfHwgNTApXG5cdFx0XHRcdC5zZXREeW5hbWljVG9vbHRpcCgpXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5jYWxlbmRhclBvc2l0aW9uID0gdmFsdWU7XG5cdFx0XHRcdFx0Y2FsZW5kYXJIZWlnaHQudGV4dENvbnRlbnQgPSBgQ3VycmVudCBoZWlnaHQ6ICR7dmFsdWV9cHhgO1xuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHR9KTtcblx0XHRcdHJldHVybiBzbGlkZXI7XG5cdFx0fSk7XG5cdFx0Y2FsZW5kYXJQb3NpdGlvblNldHRpbmcuYWRkRXh0cmFCdXR0b24oYnRuID0+IHtcblx0XHRcdGJ0bi5zZXRJY29uKCdyZXNldCcpXG5cdFx0XHRcdC5zZXRUb29sdGlwKCdSZXNldCB0byBkZWZhdWx0Jylcblx0XHRcdFx0Lm9uQ2xpY2soYXN5bmMgKCkgPT4ge1xuXHRcdFx0XHRcdGNvbnN0IGRlZmF1bHRWYWx1ZSA9IDUwO1xuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmNhbGVuZGFyUG9zaXRpb24gPSBkZWZhdWx0VmFsdWU7XG5cdFx0XHRcdFx0Y2FsZW5kYXJIZWlnaHQudGV4dENvbnRlbnQgPSBgQ3VycmVudCBoZWlnaHQ6ICR7ZGVmYXVsdFZhbHVlfXZoYDtcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0XHR0aGlzLmRpc3BsYXkoKTtcblx0XHRcdFx0fSk7XG5cdFx0fSk7XG5cdFx0Ly8gVUkgU2V0dGluZ3Ncblx0XHRjb25zdCB1aUdyb3VwID0gY29udGFpbmVyRWwuY3JlYXRlRWwoJ2RpdicsIHsgY2xzOiAnc2V0dGluZy1ncm91cCcgfSk7XG5cdFx0dWlHcm91cFxuXHRcdFx0LmNyZWF0ZUVsKCdkaXYnLCB7IGNsczogJ3NldHRpbmctaXRlbSBzZXR0aW5nLWl0ZW0taGVhZGluZycgfSlcbiAgXHRcdFx0LmNyZWF0ZUVsKCdkaXYnLCB7IHRleHQ6ICdVSSBDb250cm9scycsIGNsczogJ3NldHRpbmctaXRlbS1uYW1lJyB9KTtcblx0XHRjb25zdCB1aUdyb3VwSXRlbXMgPSB1aUdyb3VwLmNyZWF0ZUVsKCdkaXYnLCB7IGNsczogJ3NldHRpbmctaXRlbXMnIH0pO1xuXHRcdG5ldyBTZXR0aW5nKHVpR3JvdXBJdGVtcylcblx0XHRcdC5zZXROYW1lKCdVSSBTaGFwZScpXG5cdFx0XHQuc2V0RGVzYygnRW5hYmxlIHRvIHVzZSBhIHJvdW5kZWQgYXBwZWFyYW5jZSBmb3IgdGhlIFVJJylcblx0XHRcdC5hZGRUb2dnbGUodG9nZ2xlID0+IHtcblx0XHRcdFx0dG9nZ2xlXG5cdFx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnJvdW5kZWRVSSlcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5yb3VuZGVkVUkgPSB2YWx1ZTtcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0fSk7Lypcblx0XHRuZXcgU2V0dGluZyh1aUdyb3VwSXRlbXMpXG5cdFx0XHQuc2V0TmFtZSgnQm9yZGVyIFZpc2liaWxpdHknKVxuXHRcdFx0LnNldERlc2MoJ0VuYWJsZSB0byBoaWRlIG1vc3Qgb2YgdGhlIGJvcmRlcnMnKVxuXHRcdFx0LmFkZFRvZ2dsZSh0b2dnbGUgPT4ge1xuXHRcdFx0XHR0b2dnbGVcblx0XHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuaGlkZGVuQm9yZGVyKVxuXHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmhpZGRlbkJvcmRlciA9IHZhbHVlO1xuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHR9KTsqL1xuXHRcdC8vIFByaXZhY3kgU2V0dGluZ3Ncblx0XHRjb25zdCBwcml2YWN5R3JvdXAgPSBjb250YWluZXJFbC5jcmVhdGVFbCgnZGl2JywgeyBjbHM6ICdzZXR0aW5nLWdyb3VwJyB9KTtcblx0XHRwcml2YWN5R3JvdXBcblx0XHRcdC5jcmVhdGVFbCgnZGl2JywgeyBjbHM6ICdzZXR0aW5nLWl0ZW0gc2V0dGluZy1pdGVtLWhlYWRpbmcnIH0pXG4gIFx0XHRcdC5jcmVhdGVFbCgnZGl2JywgeyB0ZXh0OiAnUHJpdmFjeSBDb250cm9scycsIGNsczogJ3NldHRpbmctaXRlbS1uYW1lJyB9KTtcblx0XHRjb25zdCBwcml2YWN5R3JvdXBJdGVtcyA9IHByaXZhY3lHcm91cC5jcmVhdGVFbCgnZGl2JywgeyBjbHM6ICdzZXR0aW5nLWl0ZW1zJyB9KTtcblx0XHRuZXcgU2V0dGluZyhwcml2YWN5R3JvdXBJdGVtcylcblx0XHRcdC5zZXROYW1lKCdSZWRhY3QnKVxuXHRcdFx0LnNldERlc2MoJ0VuYWJsZSB0byByZWRhY3QgYWxsIHRoZSB0ZXh0Jylcblx0XHRcdC5hZGRUb2dnbGUodG9nZ2xlID0+IHtcblx0XHRcdFx0dG9nZ2xlXG5cdFx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnByaXZhY3lSZWRhY3RlZClcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5wcml2YWN5UmVkYWN0ZWQgPSB2YWx1ZTtcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0fSk7XG5cdFx0Ly8gQmx1cnJlZCBWaWV3XG5cdFx0bmV3IFNldHRpbmcocHJpdmFjeUdyb3VwSXRlbXMpXG5cdFx0XHQuc2V0TmFtZSgnT2JzY3VyZScpXG5cdFx0XHQuc2V0RGVzYygnRW5hYmxlIHRvIG9ic2N1cmUgZXZlcnl0aGluZycpXG5cdFx0XHQuYWRkVG9nZ2xlKHRvZ2dsZSA9PiB7XG5cdFx0XHRcdHRvZ2dsZVxuXHRcdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5wcml2YWN5Qmx1cilcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5wcml2YWN5Qmx1ciA9IHZhbHVlO1xuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHR9KTtcblx0XHQvLyBHbG9iYWwgcmVzZXQgYnV0dG9uXG5cdFx0Y29uc3QgcmVzZXRTZXR0aW5nID0gbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0XHQuc2V0TmFtZSgnUmVzZXQgU2V0dGluZ3MnKVxuXHRcdFx0LnNldERlc2MoJ1Jlc2V0IGFsbCBzZXR0aW5ncyBhbmQgZW5hYmxlIHRoZSBcIkNsb2Jib3B1c1wiIHByZXNldCcpXG5cdFx0XHQuYWRkQnV0dG9uKGJ1dHRvbiA9PlxuXHRcdFx0XHRidXR0b24uc2V0QnV0dG9uVGV4dCgnUmVzZXQnKVxuXHRcdFx0XHRcdC5zZXRDdGEoKVxuXHRcdFx0XHRcdC5vbkNsaWNrKGFzeW5jICgpID0+IHtcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzID0ge1xuXHRcdFx0XHRcdFx0XHQuLi5ERUZBVUxUX1NFVFRJTkdTLFxuXHRcdFx0XHRcdFx0XHRwcmVzZXRPdmVycmlkZTogJ0Nsb2Jib3B1cydcblx0XHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0XHRcdG5ldyBOb3RpY2UoJ1NldHRpbmdzIHJlc2V0IGFuZCBcIkNsb2Jib3B1c1wiIHByZXNldCBhcHBsaWVkIScpO1xuXHRcdFx0XHRcdFx0dGhpcy5kaXNwbGF5KCk7IC8vIFJlZnJlc2ggc2V0dGluZ3MgVUlcblx0XHRcdFx0XHR9KVxuXHRcdFx0KTtcblx0XHRyZXNldFNldHRpbmcuc2V0dGluZ0VsLnN0eWxlLm1hcmdpblRvcCA9ICcxLjVlbSc7XG5cdH1cbn1cbiJdLAogICJtYXBwaW5ncyI6ICI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxzQkFBc0Y7QUF5QnRGLElBQU0sbUJBQW1DO0FBQUEsRUFDeEMsZ0JBQWdCO0FBQUEsRUFDaEIsZ0JBQWdCO0FBQUEsRUFDaEIsV0FBVztBQUFBLEVB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
